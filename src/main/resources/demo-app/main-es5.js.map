{"version":3,"sources":["webpack:///src/app/shared/layout/index.ts","webpack:///src/app/core/interceptors/index.ts","webpack:///src/app/auth/auth-routing.module.ts","webpack:///src/app/shared/buttons/index.ts","webpack:///src/app/home/home-auth-resolver.service.ts","webpack:///src/app/home/home.component.ts","webpack:///src/app/home/home.component.html","webpack:///src/app/home/home-routing.module.ts","webpack:///src/environments/environment.ts","webpack:///src/app/core/interceptors/http.token.interceptor.ts","webpack:///src/app/core/services/comments.service.ts","webpack:///src/app/shared/article-helpers/article-meta.component.ts","webpack:///src/app/shared/article-helpers/article-meta.component.html","webpack:///src/app/auth/auth.component.ts","webpack:///src/app/auth/auth.component.html","webpack:///src/app/shared/index.ts","webpack:///src/app/shared/shared.module.ts","webpack:///src/app/shared/layout/footer.component.ts","webpack:///src/app/shared/layout/footer.component.html","webpack:///src/app/core/services/jwt.service.ts","webpack:///src/app/shared/buttons/favorite-button.component.ts","webpack:///src/app/shared/buttons/favorite-button.component.html","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/shared/show-authed.directive.ts","webpack:///src/app/shared/buttons/follow-button.component.ts","webpack:///src/app/shared/buttons/follow-button.component.html","webpack:///src/app/auth/no-auth-guard.service.ts","webpack:///src/app/core/services/articles.service.ts","webpack:///src/app/core/services/profiles.service.ts","webpack:///src/app/auth/auth.module.ts","webpack:///src/app/app.module.ts","webpack:///src/app/home/home.module.ts","webpack:///src/app/core/services/index.ts","webpack:///src/app/core/services/auth-guard.service.ts","webpack:///src/app/shared/article-helpers/index.ts","webpack:///src/app/core/index.ts","webpack:///src/app/core/services/user.service.ts","webpack:///src/app/shared/article-helpers/article-list.component.ts","webpack:///src/app/shared/article-helpers/article-list.component.html","webpack:///src/app/shared/layout/header.component.ts","webpack:///src/app/shared/layout/header.component.html","webpack:///src/app/shared/article-helpers/article-preview.component.html","webpack:///src/app/shared/article-helpers/article-preview.component.ts","webpack:///src/app/core/core.module.ts","webpack:///src/app/core/services/api.service.ts","webpack:///src/app/core/models/index.ts","webpack:///src/app/core/services/tags.service.ts","webpack:///src/app/shared/list-errors.component.html","webpack:///src/app/shared/list-errors.component.ts","webpack:///src/app/app-routing.module.ts","webpack:///src/main.ts","webpack:///$_lazy_route_resource lazy namespace object"],"names":["routes","path","component","canActivate","AuthRoutingModule","forChild","HomeAuthResolver","router","userService","route","state","isAuthenticated","pipe","HomeComponent","tagsService","listConfig","type","filters","tags","tagsLoaded","subscribe","authenticated","setListTo","getAll","navigateByUrl","resolve","HomeRoutingModule","environment","production","api_url","HttpTokenInterceptor","jwtService","req","next","headersConfig","token","getToken","request","clone","setHeaders","handle","CommentsService","apiService","slug","payload","post","comment","body","data","get","comments","commentId","articleSlug","ArticleMetaComponent","AuthComponent","fb","authType","title","errors","isSubmitting","authForm","group","required","url","length","addControl","credentials","value","attemptAuth","err","submitForm","SharedModule","FooterComponent","today","Date","now","JwtService","window","localStorage","removeItem","FavoriteButtonComponent","articlesService","toggle","article","favorited","favorite","emit","unfavorite","toggleFavorite","AppComponent","populate","ShowAuthedDirective","templateRef","viewContainer","condition","createEmbeddedView","clear","FollowButtonComponent","profilesService","profile","following","follow","username","unfollow","toggleFollowing","NoAuthGuard","isAuth","ArticlesService","config","params","Object","keys","forEach","key","fromObject","put","ProfilesService","AuthModule","AppModule","HomeModule","AuthGuard","UserService","http","currentUserSubject","currentUser","asObservable","isAuthenticatedSubject","setAuth","user","purgeAuth","saveToken","destroyToken","ArticleListComponent","loading","currentPage","totalPages","query","runQuery","pageNumber","results","limit","offset","articles","Array","from","Math","ceil","articlesCount","val","index","HeaderComponent","userData","ArticlePreviewComponent","onToggleFavorite","CoreModule","provide","useClass","multi","ApiService","error","formatErrors","JSON","stringify","TagsService","ListErrorsComponent","formattedErrors","errorList","map","loadChildren","then","m","SettingsModule","ProfileModule","EditorModule","ArticleModule","AppRoutingModule","forRoot","preloadingStrategy","relativeLinkResolution","bootstrapPromise","bootstrapModule","success","console","log","webpackEmptyAsyncContext","Promise","e","Error","code","module","exports","id"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;ACAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;ACCA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAIA,UAAMA,MAAM,GAAW,CACrB;AACEC,YAAI,EAAE,OADR;AAEEC,iBAAS,EAAE,6DAFb;AAGEC,mBAAW,EAAE,CAAC,kEAAD;AAHf,OADqB,EAMrB;AACEF,YAAI,EAAE,UADR;AAEEC,iBAAS,EAAE,6DAFb;AAGEC,mBAAW,EAAE,CAAC,kEAAD;AAHf,OANqB,CAAvB;;UAiBaC,iB;;;;;yBAAAA,iB;AAAiB,O;;;cAAjBA;;;kBAHF,CAAC,6DAAaC,QAAb,CAAsBL,MAAtB,CAAD,C,EACC,4D;;;;4HAECI,iB,EAAiB;AAAA;AAAA,oBAFlB,4DAEkB;AAAA,S;AAFN,O;;;;;;;;;;;;;;;;;ACpBxB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;ACCA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAOaE,gB;AACX,kCACUC,MADV,EAEUC,WAFV,EAEkC;AAAA;;AADxB,eAAAD,MAAA,GAAAA,MAAA;AACA,eAAAC,WAAA,GAAAA,WAAA;AACN;;;;iBAEJ,iBACEC,KADF,EAEEC,KAFF,EAE4B;AAG1B,mBAAO,KAAKF,WAAL,CAAiBG,eAAjB,CAAiCC,IAAjC,CAAsC,4DAAK,CAAL,CAAtC,CAAP;AAED;;;;;;;yBAbUN,gB,EAAgB,8G,EAAA,yG;AAAA,O;;;eAAhBA,gB;AAAgB,iBAAhBA,gBAAgB;;;;;;;;;;;;;;;;;ACP7B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACCE;;AACE;;AACE;;AAAsB;;AAAO;;AAC7B;;AAAG;;AAAsB;;AAAG;;AAAO;;AAAK;;AAAU;;AACpD;;AACF;;;;;;;;AAsCU;;AACG;AAAA;;AAAA;;AAAA;;AAAA,oCAAmB,KAAnB,EAA0B;AAAF;AAAE,aAA1B;AAAwB,WAAxB;;AAEA;;AACH;;;;;;AADG;;AAAA;;;;;;;;;;UDtCFO,a;AACX,+BACUN,MADV,EAEUO,WAFV,EAGUN,WAHV,EAGkC;AAAA;;AAFxB,eAAAD,MAAA,GAAAA,MAAA;AACA,eAAAO,WAAA,GAAAA,WAAA;AACA,eAAAN,WAAA,GAAAA,WAAA;AAIV,eAAAO,UAAA,GAAgC;AAC9BC,gBAAI,EAAE,KADwB;AAE9BC,mBAAO,EAAE;AAFqB,WAAhC;AAIA,eAAAC,IAAA,GAAsB,EAAtB;AACA,eAAAC,UAAA,GAAa,KAAb;AARI;;;;iBAUJ,oBAAW;AAAA;;AACT,iBAAKX,WAAL,CAAiBG,eAAjB,CAAiCS,SAAjC,CACE,UAACC,aAAD,EAAmB;AACjB,mBAAI,CAACV,eAAL,GAAuBU,aAAvB,CADiB,CAGjB;;AACA,kBAAIA,aAAJ,EAAmB;AACjB,qBAAI,CAACC,SAAL,CAAe,MAAf;AACD,eAFD,MAEO;AACL,qBAAI,CAACA,SAAL,CAAe,KAAf;AACD;AACF,aAVH;AAaA,iBAAKR,WAAL,CAAiBS,MAAjB,GACCH,SADD,CACW,UAAAF,IAAI,EAAI;AACjB,mBAAI,CAACA,IAAL,GAAYA,IAAZ;AACA,mBAAI,CAACC,UAAL,GAAkB,IAAlB;AACD,aAJD;AAKD;;;iBAED,qBAAmD;AAAA,gBAAzCH,IAAyC,uEAA1B,EAA0B;AAAA,gBAAtBC,OAAsB,uEAAJ,EAAI;;AACjD;AACA,gBAAID,IAAI,KAAK,MAAT,IAAmB,CAAC,KAAKL,eAA7B,EAA8C;AAC5C,mBAAKJ,MAAL,CAAYiB,aAAZ,CAA0B,QAA1B;AACA;AACD,aALgD,CAOjD;;;AACA,iBAAKT,UAAL,GAAkB;AAACC,kBAAI,EAAEA,IAAP;AAAaC,qBAAO,EAAEA;AAAtB,aAAlB;AACD;;;;;;;yBA7CUJ,a,EAAa,uH,EAAA,kH,EAAA,kH;AAAA,O;;;cAAbA,a;AAAa,sC;AAAA,iB;AAAA,gB;AAAA,mkB;AAAA;AAAA;ACV1B;;AAEE;;AAOA;;AACE;;AAEE;;AACE;;AACE;;AACE;;AACE;;AAEG;AAAA,qBAAS,IAAAS,SAAA,CAAU,MAAV,CAAT;AAA0B,aAA1B;;AACA;;AACH;;AACF;;AACA;;AACE;;AAEG;AAAA,qBAAS,IAAAA,SAAA,CAAU,KAAV,CAAT;AAAyB,aAAzB;;AACA;;AACH;;AACF;;AACA;;AACE;;AACE;;AAA0B;;AAC5B;;AACF;;AACF;;AACF;;AAEA;;AACF;;AAEA;;AACE;;AACE;;AAAG;;AAAY;;AAEf;;AACE;;AAKF;;AAEA;;AACE;;AACF;;AAEA;;AACE;;AACF;;AACF;;AACF;;AAEF;;AACF;;AACF;;;;AA9DuB;;AAAA;;AAeN;;AAAA;;AAOA;;AAAA;;AAKgB;;AAAA;;AAES;;AAAA;;AAMhB;;AAAA,kFAAY,QAAZ,EAAY,cAAZ;;AAQK;;AAAA;;AAOhB;;AAAA;;AAIA;;AAAA;;;;;;;;;;;;;;;;;;;;;ACvDf;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAIA,UAAMtB,MAAM,GAAW,CACrB;AACEC,YAAI,EAAE,EADR;AAEEC,iBAAS,EAAE,6DAFb;AAGEuB,eAAO,EAAE;AACPd,yBAAe,EAAE;AADV;AAHX,OADqB,CAAvB;;UAcae,iB;;;;;yBAAAA,iB;AAAiB,O;;;cAAjBA;;;kBAHF,CAAC,6DAAarB,QAAb,CAAsBL,MAAtB,CAAD,C,EACC,4D;;;;4HAEC0B,iB,EAAiB;AAAA;AAAA,oBAFlB,4DAEkB;AAAA,S;AAFN,O;;;;;;;;;;;;;;;;;ACjBxB;AAAA;;;AAAA;AAAA;AAAA,S,CAAA;AACA;AACA;AACA;;;AAEO,UAAMC,WAAW,GAAG;AACzBC,kBAAU,EAAE,KADa;AAEzBC,eAAO,EAAE;AAFgB,OAApB;;;;;;;;;;;;;;;;ACJP;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAMaC,oB;AACX,sCAAoBC,UAApB,EAA4C;AAAA;;AAAxB,eAAAA,UAAA,GAAAA,UAAA;AAA0B;;;;iBAE9C,mBAAUC,GAAV,EAAiCC,IAAjC,EAAkD;AAChD,gBAAMC,aAAa,GAAG;AACpB,8BAAgB,kBADI;AAEpB,wBAAU;AAFU,aAAtB;AAKA,gBAAMC,KAAK,GAAG,KAAKJ,UAAL,CAAgBK,QAAhB,EAAd;;AAEA,gBAAID,KAAJ,EAAW;AACTD,2BAAa,CAAC,eAAD,CAAb,mBAA0CC,KAA1C;AACD;;AAED,gBAAME,OAAO,GAAGL,GAAG,CAACM,KAAJ,CAAU;AAAEC,wBAAU,EAAEL;AAAd,aAAV,CAAhB;AACA,mBAAOD,IAAI,CAACO,MAAL,CAAYH,OAAZ,CAAP;AACD;;;;;;;yBAjBUP,oB,EAAoB,4G;AAAA,O;;;eAApBA,oB;AAAoB,iBAApBA,oBAAoB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJjC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAMaW,e;AACX,iCACUC,UADV,EACgC;AAAA;;AAAtB,eAAAA,UAAA,GAAAA,UAAA;AACN;;;;iBAEJ,aAAIC,IAAJ,EAAUC,OAAV,EAAiB;AACf,mBAAO,KAAKF,UAAL,CACNG,IADM,qBAEQF,IAFR,gBAGL;AAAEG,qBAAO,EAAE;AAAEC,oBAAI,EAAEH;AAAR;AAAX,aAHK,EAILhC,IAJK,CAIA,2DAAI,UAAAoC,IAAI;AAAA,qBAAIA,IAAI,CAACF,OAAT;AAAA,aAAR,CAJA,CAAP;AAKD;;;iBAED,gBAAOH,IAAP,EAAW;AACT,mBAAO,KAAKD,UAAL,CAAgBO,GAAhB,qBAAiCN,IAAjC,gBACJ/B,IADI,CACC,2DAAI,UAAAoC,IAAI;AAAA,qBAAIA,IAAI,CAACE,QAAT;AAAA,aAAR,CADD,CAAP;AAED;;;iBAED,iBAAQC,SAAR,EAAmBC,WAAnB,EAAgC;AAC9B,mBAAO,KAAKV,UAAL,+BACqBU,WADrB,uBAC6CD,SAD7C,EAAP;AAED;;;;;;;yBArBUV,e,EAAe,+G;AAAA,O;;;eAAfA,e;AAAe,iBAAfA,eAAe;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCDfY,oB;;;;;yBAAAA,oB;AAAoB,O;;;cAApBA,oB;AAAoB,yC;AAAA;AAAA;AAAA,S;AAAA,+B;AAAA,iB;AAAA,gB;AAAA,8H;AAAA;AAAA;;;ACRjC;;AACE;;AACE;;AACF;;AAEA;;AACE;;AAEE;;AACF;;AACA;;AACE;;;;AACF;;AACF;;AAEA;;AACF;;;;AAfK;;AAAA;;AACI;;AAAA;;AAKH;;AAAA;;AACA;;AAAA;;AAGA;;AAAA;;;;;;;;;;;;;;;;;;;;;;ACVN;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;;;ACMU;;AAA4D;;AAAgB;;;;AAAzE;;;;;;;;;;AACH;;AAA4D;;AAAgB;;;;AAAzE;;;;;;AAMC;;;;UDJDC,a;AAOX,+BACU7C,KADV,EAEUF,MAFV,EAGUC,WAHV,EAIU+C,EAJV,EAIyB;AAAA;;AAHf,eAAA9C,KAAA,GAAAA,KAAA;AACA,eAAAF,MAAA,GAAAA,MAAA;AACA,eAAAC,WAAA,GAAAA,WAAA;AACA,eAAA+C,EAAA,GAAAA,EAAA;AAVV,eAAAC,QAAA,GAAmB,EAAnB;AACA,eAAAC,KAAA,GAAgB,EAAhB;AACA,eAAAC,MAAA,GAAiB;AAACA,kBAAM,EAAE;AAAT,WAAjB;AACA,eAAAC,YAAA,GAAe,KAAf,CAOyB,CAEvB;;AACA,eAAKC,QAAL,GAAgB,KAAKL,EAAL,CAAQM,KAAR,CAAc;AAC5B,qBAAS,CAAC,EAAD,EAAK,0DAAWC,QAAhB,CADmB;AAE5B,wBAAY,CAAC,EAAD,EAAK,0DAAWA,QAAhB;AAFgB,WAAd,CAAhB;AAID;;;;iBAED,oBAAW;AAAA;;AACT,iBAAKrD,KAAL,CAAWsD,GAAX,CAAe3C,SAAf,CAAyB,UAAA4B,IAAI,EAAI;AAC/B;AACA,oBAAI,CAACQ,QAAL,GAAgBR,IAAI,CAACA,IAAI,CAACgB,MAAL,GAAc,CAAf,CAAJ,CAAsB/D,IAAtC,CAF+B,CAG/B;;AACA,oBAAI,CAACwD,KAAL,GAAc,MAAI,CAACD,QAAL,KAAkB,OAAnB,GAA8B,SAA9B,GAA0C,SAAvD,CAJ+B,CAK/B;;AACA,kBAAI,MAAI,CAACA,QAAL,KAAkB,UAAtB,EAAkC;AAChC,sBAAI,CAACI,QAAL,CAAcK,UAAd,CAAyB,UAAzB,EAAqC,IAAI,0DAAJ,EAArC;AACD;AACF,aATD;AAUD;;;iBAED,sBAAa;AAAA;;AACX,iBAAKN,YAAL,GAAoB,IAApB;AACA,iBAAKD,MAAL,GAAc;AAACA,oBAAM,EAAE;AAAT,aAAd;AAEA,gBAAMQ,WAAW,GAAG,KAAKN,QAAL,CAAcO,KAAlC;AACA,iBAAK3D,WAAL,CACC4D,WADD,CACa,KAAKZ,QADlB,EAC4BU,WAD5B,EAEC9C,SAFD,CAGE,UAAA4B,IAAI;AAAA,qBAAI,MAAI,CAACzC,MAAL,CAAYiB,aAAZ,CAA0B,GAA1B,CAAJ;AAAA,aAHN,EAIE,UAAA6C,GAAG,EAAI;AACL,oBAAI,CAACX,MAAL,GAAcW,GAAd;AACA,oBAAI,CAACV,YAAL,GAAoB,KAApB;AACD,aAPH;AASD;;;;;;;yBA/CUL,a,EAAa,+H,EAAA,uH,EAAA,kH,EAAA,2H;AAAA,O;;;cAAbA,a;AAAa,sC;AAAA,iB;AAAA,e;AAAA,yzB;AAAA;AAAA;ACV1B;;AACE;;AACE;;AAEE;;AACE;;AAA2B;;AAAW;;AACtC;;AACE;;AACA;;AACF;;AACA;;AACA;;AAA6B;AAAA,qBAAY,IAAAgB,UAAA,EAAZ;AAAwB,aAAxB;;AAC3B;;AACE;;AACE;;AAMF;;AACA;;AACE;;AAKF;;AACA;;AACE;;AAKF;;AACA;;AACE;;AACF;;AACF;;AACF;;AACF;;AAEF;;AACF;;AACF;;;;AAvCmC;;AAAA;;AAEK;;AAAA;;AACG;;AAAA;;AAElB;;AAAA;;AACX;;AAAA;;AACM;;AAAA;;AAOH;;AAAA;;AAgBgD;;AAAA;;AACnD;;AAAA;;;;;;;;;;;;;;;;;;;;;ACpCd;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;ACAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UA2CaC,Y;;;;;yBAAAA,Y;AAAY,O;;;cAAZA;;;kBA/BF,CACP,4DADO,EAEP,0DAFO,EAGP,kEAHO,EAIP,qEAJO,EAKP,4DALO,C,EAoBP,4D,EAGA,0D,EACA,kE,EACA,qE,EAEA,4D;;;;4HAISA,Y,EAAY;AAAA,yBAvBrB,qEAuBqB,EAtBrB,qEAsBqB,EArBrB,wEAqBqB,EApBrB,gEAoBqB,EAnBrB,8DAmBqB,EAlBrB,0EAkBqB,EAjBrB,0EAiBqB;AAjBF,oBAbnB,4DAamB,EAZnB,0DAYmB,EAXnB,kEAWmB,EAVnB,qEAUmB,EATnB,4DASmB,CAiBE;AA1BT,oBAYZ,qEAZY,EAaZ,qEAbY,EAcZ,wEAdY,EAeZ,4DAfY,EAgBZ,gEAhBY,EAiBZ,8DAjBY,EAkBZ,0DAlBY,EAmBZ,kEAnBY,EAoBZ,qEApBY,EAqBZ,0EArBY,EAsBZ,4DAtBY,EAuBZ,0EAvBY;AA0BS,S;AAHF,O;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UClCVC,e,GAJb;AAAA;;AAKE,aAAAC,KAAA,GAAgBC,IAAI,CAACC,GAAL,EAAhB;AACD,O;;;yBAFYH,e;AAAe,O;;;cAAfA,e;AAAe,0C;AAAA,iB;AAAA,e;AAAA,6H;AAAA;AAAA;ACN5B;;AACE;;AACE;;AAAoC;;AAAO;;AAC3C;;AACE;;;;AACqC;;AAA+B;;AAAS;;AAAI;;AAEnF;;AACF;;AACF;;;;AALM;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCAOI,U;;;;;;;iBAEX,oBAAQ;AACN,mBAAOC,MAAM,CAACC,YAAP,CAAoB,UAApB,CAAP;AACD;;;iBAED,mBAAU3C,KAAV,EAAyB;AACvB0C,kBAAM,CAACC,YAAP,CAAoB,UAApB,IAAkC3C,KAAlC;AACD;;;iBAED,wBAAe;AACb0C,kBAAM,CAACC,YAAP,CAAoBC,UAApB,CAA+B,UAA/B;AACD;;;;;;;yBAZUH,U;AAAU,O;;;eAAVA,U;AAAU,iBAAVA,UAAU;;;;;;;;;;;;;;;;;ACJvB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;;;;;;;UAWaI,uB;AACX,yCACUC,eADV,EAEU1E,MAFV,EAGUC,WAHV,EAGkC;AAAA;;AAFxB,eAAAyE,eAAA,GAAAA,eAAA;AACA,eAAA1E,MAAA,GAAAA,MAAA;AACA,eAAAC,WAAA,GAAAA,WAAA;AAIA,eAAA0E,MAAA,GAAS,IAAI,0DAAJ,EAAT;AACV,eAAAvB,YAAA,GAAe,KAAf;AAJI;;;;iBAMJ,0BAAiB;AAAA;;AACf,iBAAKA,YAAL,GAAoB,IAApB;AAEA,iBAAKnD,WAAL,CAAiBG,eAAjB,CAAiCC,IAAjC,CAAsC,iEACpC,UAACS,aAAD,EAAmB;AACjB;AACA,kBAAI,CAACA,aAAL,EAAoB;AAClB,sBAAI,CAACd,MAAL,CAAYiB,aAAZ,CAA0B,QAA1B;;AACA,uBAAO,gDAAG,IAAH,CAAP;AACD,eALgB,CAOjB;;;AACA,kBAAI,CAAC,MAAI,CAAC2D,OAAL,CAAaC,SAAlB,EAA6B;AAC3B,uBAAO,MAAI,CAACH,eAAL,CAAqBI,QAArB,CAA8B,MAAI,CAACF,OAAL,CAAaxC,IAA3C,EACN/B,IADM,CACD,2DACJ,UAAAoC,IAAI,EAAI;AACN,wBAAI,CAACW,YAAL,GAAoB,KAApB;;AACA,wBAAI,CAACuB,MAAL,CAAYI,IAAZ,CAAiB,IAAjB;AACD,iBAJG,EAKJ,UAAAjB,GAAG;AAAA,yBAAI,MAAI,CAACV,YAAL,GAAoB,KAAxB;AAAA,iBALC,CADC,CAAP,CAD2B,CAU7B;AACC,eAXD,MAWO;AACL,uBAAO,MAAI,CAACsB,eAAL,CAAqBM,UAArB,CAAgC,MAAI,CAACJ,OAAL,CAAaxC,IAA7C,EACN/B,IADM,CACD,2DACJ,UAAAoC,IAAI,EAAI;AACN,wBAAI,CAACW,YAAL,GAAoB,KAApB;;AACA,wBAAI,CAACuB,MAAL,CAAYI,IAAZ,CAAiB,KAAjB;AACD,iBAJG,EAKJ,UAAAjB,GAAG;AAAA,yBAAI,MAAI,CAACV,YAAL,GAAoB,KAAxB;AAAA,iBALC,CADC,CAAP;AAQD;AAEF,aA/BmC,CAAtC,EAgCGvC,SAhCH;AAiCD;;;;;;;yBA/CU4D,uB,EAAuB,sH,EAAA,uH,EAAA,kH;AAAA,O;;;cAAvBA,uB;AAAuB,4C;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA,S;AAAA,+B;AAAA,gB;AAAA,e;AAAA,+E;AAAA;AAAA;;;ACXpC;;AAIC;AAAA,qBAAS,IAAAQ,cAAA,EAAT;AAAyB,aAAzB;;AACC;;AAA0B;;AAC5B;;;;AALC;;;;;;;;;;;;;;;;;;;;;ACCD;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAMaC,Y;AACX,8BAAoBjF,WAApB,EAA8C;AAAA;;AAA1B,eAAAA,WAAA,GAAAA,WAAA;AAA4B;;;;iBAEhD,oBAAW;AACT,iBAAKA,WAAL,CAAiBkF,QAAjB;AACD;;;;;;;yBALUD,Y,EAAY,kH;AAAA,O;;;cAAZA,Y;AAAY,iC;AAAA,gB;AAAA,e;AAAA;AAAA;ACRzB;;AAEA;;AAEA;;;;;;;;;;;;;;;;;;;;;ACJA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAWaE,mB;AACX,qCACUC,WADV,EAEUpF,WAFV,EAGUqF,aAHV,EAGyC;AAAA;;AAF/B,eAAAD,WAAA,GAAAA,WAAA;AACA,eAAApF,WAAA,GAAAA,WAAA;AACA,eAAAqF,aAAA,GAAAA,aAAA;AACN;;;;iBAIJ,oBAAW;AAAA;;AACT,iBAAKrF,WAAL,CAAiBG,eAAjB,CAAiCS,SAAjC,CACE,UAACT,eAAD,EAAqB;AACnB,kBAAIA,eAAe,IAAI,MAAI,CAACmF,SAAxB,IAAqC,CAACnF,eAAD,IAAoB,CAAC,MAAI,CAACmF,SAAnE,EAA8E;AAC5E,sBAAI,CAACD,aAAL,CAAmBE,kBAAnB,CAAsC,MAAI,CAACH,WAA3C;AACD,eAFD,MAEO;AACL,sBAAI,CAACC,aAAL,CAAmBG,KAAnB;AACD;AACF,aAPH;AASD;;;eAED,aAA2BF,SAA3B,EAA+C;AAC7C,iBAAKA,SAAL,GAAiBA,SAAjB;AACD;;;;;;;yBAvBUH,mB,EAAmB,0H,EAAA,kH,EAAA,+H;AAAA,O;;;cAAnBA,mB;AAAmB,8C;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;ACXhC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;;;;;UAWaM,qB;AACX,uCACUC,eADV,EAEU3F,MAFV,EAGUC,WAHV,EAGkC;AAAA;;AAFxB,eAAA0F,eAAA,GAAAA,eAAA;AACA,eAAA3F,MAAA,GAAAA,MAAA;AACA,eAAAC,WAAA,GAAAA,WAAA;AAIA,eAAA0E,MAAA,GAAS,IAAI,0DAAJ,EAAT;AACV,eAAAvB,YAAA,GAAe,KAAf;AAJI;;;;iBAMJ,2BAAkB;AAAA;;AAChB,iBAAKA,YAAL,GAAoB,IAApB,CADgB,CAEhB;;AAEA,iBAAKnD,WAAL,CAAiBG,eAAjB,CAAiCC,IAAjC,CAAsC,iEACpC,UAACS,aAAD,EAAmB;AACjB;AACA,kBAAI,CAACA,aAAL,EAAoB;AAClB,sBAAI,CAACd,MAAL,CAAYiB,aAAZ,CAA0B,QAA1B;;AACA,uBAAO,gDAAG,IAAH,CAAP;AACD,eALgB,CAOjB;;;AACA,kBAAI,CAAC,MAAI,CAAC2E,OAAL,CAAaC,SAAlB,EAA6B;AAC3B,uBAAO,MAAI,CAACF,eAAL,CAAqBG,MAArB,CAA4B,MAAI,CAACF,OAAL,CAAaG,QAAzC,EACN1F,IADM,CACD,2DACJ,UAAAoC,IAAI,EAAI;AACN,wBAAI,CAACW,YAAL,GAAoB,KAApB;;AACA,wBAAI,CAACuB,MAAL,CAAYI,IAAZ,CAAiB,IAAjB;AACD,iBAJG,EAKJ,UAAAjB,GAAG;AAAA,yBAAI,MAAI,CAACV,YAAL,GAAoB,KAAxB;AAAA,iBALC,CADC,CAAP,CAD2B,CAU7B;AACC,eAXD,MAWO;AACL,uBAAO,MAAI,CAACuC,eAAL,CAAqBK,QAArB,CAA8B,MAAI,CAACJ,OAAL,CAAaG,QAA3C,EACN1F,IADM,CACD,2DACJ,UAAAoC,IAAI,EAAI;AACN,wBAAI,CAACW,YAAL,GAAoB,KAApB;;AACA,wBAAI,CAACuB,MAAL,CAAYI,IAAZ,CAAiB,KAAjB;AACD,iBAJG,EAKJ,UAAAjB,GAAG;AAAA,yBAAI,MAAI,CAACV,YAAL,GAAoB,KAAxB;AAAA,iBALC,CADC,CAAP;AAQD;AACF,aA9BmC,CAAtC,EA+BGvC,SA/BH;AAgCD;;;;;;;yBA/CU6E,qB,EAAqB,sH,EAAA,uH,EAAA,kH;AAAA,O;;;cAArBA,qB;AAAqB,0C;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA,S;AAAA,gB;AAAA,e;AAAA,kG;AAAA;AAAA;ACXlC;;AAKE;AAAA,qBAAS,IAAAO,eAAA,EAAT;AAA0B,aAA1B;;AACA;;AACA;;AAEF;;;;AAPE;;AAKA;;AAAA;;;;;;;;;;;;;;;;;;;;;ACNF;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAOaC,W;AACX,6BACUlG,MADV,EAEUC,WAFV,EAEkC;AAAA;;AADxB,eAAAD,MAAA,GAAAA,MAAA;AACA,eAAAC,WAAA,GAAAA,WAAA;AACN;;;;iBAEJ,qBACEC,KADF,EAEEC,KAFF,EAE4B;AAG1B,mBAAO,KAAKF,WAAL,CAAiBG,eAAjB,CAAiCC,IAAjC,CAAsC,4DAAK,CAAL,CAAtC,EAA+C,2DAAI,UAAA8F,MAAM;AAAA,qBAAI,CAACA,MAAL;AAAA,aAAV,CAA/C,CAAP;AAED;;;;;;;yBAbUD,W,EAAW,8G,EAAA,yG;AAAA,O;;;eAAXA,W;AAAW,iBAAXA,WAAW;;;;;;;;;;;;;;;;;ACPxB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAQaE,e;AACX,iCACUjE,UADV,EACgC;AAAA;;AAAtB,eAAAA,UAAA,GAAAA,UAAA;AACN;;;;iBAEJ,eAAMkE,MAAN,EAA+B;AAC7B;AACA,gBAAMC,MAAM,GAAG,EAAf;AAEAC,kBAAM,CAACC,IAAP,CAAYH,MAAM,CAAC3F,OAAnB,EACC+F,OADD,CACS,UAACC,GAAD,EAAS;AAChBJ,oBAAM,CAACI,GAAD,CAAN,GAAcL,MAAM,CAAC3F,OAAP,CAAegG,GAAf,CAAd;AACD,aAHD;AAKA,mBAAO,KAAKvE,UAAL,CACNO,GADM,CAEL,eAAgB2D,MAAM,CAAC5F,IAAP,KAAgB,MAAjB,GAA2B,OAA3B,GAAqC,EAApD,CAFK,EAGL,IAAI,+DAAJ,CAAe;AAAEkG,wBAAU,EAAEL;AAAd,aAAf,CAHK,CAAP;AAKD;;;iBAED,aAAIlE,IAAJ,EAAQ;AACN,mBAAO,KAAKD,UAAL,CAAgBO,GAAhB,CAAoB,eAAeN,IAAnC,EACJ/B,IADI,CACC,2DAAI,UAAAoC,IAAI;AAAA,qBAAIA,IAAI,CAACmC,OAAT;AAAA,aAAR,CADD,CAAP;AAED;;;iBAED,iBAAQxC,IAAR,EAAc;AACZ,mBAAO,KAAKD,UAAL,WAAuB,eAAeC,IAAtC,CAAP;AACD;;;iBAED,cAAKwC,OAAL,EAAY;AACV;AACA,gBAAIA,OAAO,CAACxC,IAAZ,EAAkB;AAChB,qBAAO,KAAKD,UAAL,CAAgByE,GAAhB,CAAoB,eAAehC,OAAO,CAACxC,IAA3C,EAAiD;AAACwC,uBAAO,EAAEA;AAAV,eAAjD,EACJvE,IADI,CACC,2DAAI,UAAAoC,IAAI;AAAA,uBAAIA,IAAI,CAACmC,OAAT;AAAA,eAAR,CADD,CAAP,CADgB,CAIlB;AACC,aALD,MAKO;AACL,qBAAO,KAAKzC,UAAL,CAAgBG,IAAhB,CAAqB,YAArB,EAAmC;AAACsC,uBAAO,EAAEA;AAAV,eAAnC,EACJvE,IADI,CACC,2DAAI,UAAAoC,IAAI;AAAA,uBAAIA,IAAI,CAACmC,OAAT;AAAA,eAAR,CADD,CAAP;AAED;AACF;;;iBAED,kBAASxC,IAAT,EAAa;AACX,mBAAO,KAAKD,UAAL,CAAgBG,IAAhB,CAAqB,eAAeF,IAAf,GAAsB,WAA3C,CAAP;AACD;;;iBAED,oBAAWA,IAAX,EAAe;AACb,mBAAO,KAAKD,UAAL,WAAuB,eAAeC,IAAf,GAAsB,WAA7C,CAAP;AACD;;;;;;;yBAjDUgE,e,EAAe,+G;AAAA,O;;;eAAfA,e;AAAe,iBAAfA,eAAe;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACN5B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAKaS,e;AACX,iCACU1E,UADV,EACgC;AAAA;;AAAtB,eAAAA,UAAA,GAAAA,UAAA;AACN;;;;iBAEJ,aAAI4D,QAAJ,EAAoB;AAClB,mBAAO,KAAK5D,UAAL,CAAgBO,GAAhB,CAAoB,eAAeqD,QAAnC,EACJ1F,IADI,CACC,2DAAI,UAACoC,IAAD;AAAA,qBAA8BA,IAAI,CAACmD,OAAnC;AAAA,aAAJ,CADD,CAAP;AAED;;;iBAED,gBAAOG,QAAP,EAAuB;AACrB,mBAAO,KAAK5D,UAAL,CAAgBG,IAAhB,CAAqB,eAAeyD,QAAf,GAA0B,SAA/C,CAAP;AACD;;;iBAED,kBAASA,QAAT,EAAyB;AACvB,mBAAO,KAAK5D,UAAL,WAAuB,eAAe4D,QAAf,GAA0B,SAAjD,CAAP;AACD;;;;;;;yBAhBUc,e,EAAe,+G;AAAA,O;;;eAAfA,e;AAAe,iBAAfA,eAAe;;;;;;;;;;;;;;;;;ACL5B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAiBaC,U;;;;;yBAAAA,U;AAAU,O;;;cAAVA;;;mBAJA,CACT,kEADS,C;AAEV,kBATQ,CACP,oDADO,EAEP,sEAFO,CASR;;;;4HAEUA,U,EAAU;AAAA,yBANnB,6DAMmB;AANN,oBAJb,oDAIa,EAHb,sEAGa;AAMM,S;AATF,O;;;;;;;;;;;;;;;;;ACVrB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UA0BaC,S;;;;;yBAAAA,S;AAAS,O;;;cAATA,S;AAAS,oBAFR,2DAEQ;;;mBAHT,E;AAAE,kBARJ,CACP,uEADO,EAEP,4DAFO,EAGP,oDAHO,EAIP,4DAJO,EAKP,4DALO,EAMP,oEANO,CAQI;;;;4HAGFA,S,EAAS;AAAA,yBAZL,2DAYK,EAZS,uDAYT,EAZ0B,uDAY1B;AAZyC,oBAE3D,uEAF2D,EAG3D,4DAH2D,EAI3D,oDAJ2D,EAK3D,4DAL2D,EAM3D,4DAN2D,EAO3D,oEAP2D;AAYzC,S;AALF,O;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnBpB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAiBaC,U;;;;;yBAAAA,U;AAAU,O;;;cAAVA;;;mBAJA,CACT,4EADS,C;AAEV,kBATQ,CACP,oDADO,EAEP,sEAFO,CASR;;;;4HAEUA,U,EAAU;AAAA,yBANnB,6DAMmB;AANN,oBAJb,oDAIa,EAHb,sEAGa;AAMM,S;AATF,O;;;;;;;;;;;;;;;;;ACXrB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;ACCA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAOaC,S;AACX,2BACUjH,MADV,EAEUC,WAFV,EAEkC;AAAA;;AADxB,eAAAD,MAAA,GAAAA,MAAA;AACA,eAAAC,WAAA,GAAAA,WAAA;AACN;;;;iBAEJ,qBACEC,KADF,EAEEC,KAFF,EAE4B;AAG1B,mBAAO,KAAKF,WAAL,CAAiBG,eAAjB,CAAiCC,IAAjC,CAAsC,4DAAK,CAAL,CAAtC,CAAP;AAED;;;;;;;yBAbU4G,S,EAAS,8G,EAAA,iH;AAAA,O;;;eAATA,S;AAAS,iBAATA,SAAS;;;;;;;;;;;;;;;;;ACRtB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;ACAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;ACCA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAUaC,W;AAOX,6BACU/E,UADV,EAEUgF,IAFV,EAGU3F,UAHV,EAGgC;AAAA;;AAFtB,eAAAW,UAAA,GAAAA,UAAA;AACA,eAAAgF,IAAA,GAAAA,IAAA;AACA,eAAA3F,UAAA,GAAAA,UAAA;AATF,eAAA4F,kBAAA,GAAqB,IAAI,oDAAJ,CAA0B,EAA1B,CAArB;AACD,eAAAC,WAAA,GAAc,KAAKD,kBAAL,CAAwBE,YAAxB,GAAuCjH,IAAvC,CAA4C,6EAA5C,CAAd;AAEC,eAAAkH,sBAAA,GAAyB,IAAI,kDAAJ,CAA2B,CAA3B,CAAzB;AACD,eAAAnH,eAAA,GAAkB,KAAKmH,sBAAL,CAA4BD,YAA5B,EAAlB;AAMH,S,CAEJ;AACA;;;;;iBACA,oBAAW;AAAA;;AACT;AACA,gBAAI,KAAK9F,UAAL,CAAgBK,QAAhB,EAAJ,EAAgC;AAC9B,mBAAKM,UAAL,CAAgBO,GAAhB,CAAoB,OAApB,EACC7B,SADD,CAEE,UAAA4B,IAAI;AAAA,uBAAI,MAAI,CAAC+E,OAAL,CAAa/E,IAAI,CAACgF,IAAlB,CAAJ;AAAA,eAFN,EAGE,UAAA3D,GAAG;AAAA,uBAAI,MAAI,CAAC4D,SAAL,EAAJ;AAAA,eAHL;AAKD,aAND,MAMO;AACL;AACA,mBAAKA,SAAL;AACD;AACF;;;iBAED,iBAAQD,IAAR,EAAoB;AAClB;AACA,iBAAKjG,UAAL,CAAgBmG,SAAhB,CAA0BF,IAAI,CAAC7F,KAA/B,EAFkB,CAGlB;;AACA,iBAAKwF,kBAAL,CAAwB1F,IAAxB,CAA6B+F,IAA7B,EAJkB,CAKlB;;AACA,iBAAKF,sBAAL,CAA4B7F,IAA5B,CAAiC,IAAjC;AACD;;;iBAED,qBAAY;AACV;AACA,iBAAKF,UAAL,CAAgBoG,YAAhB,GAFU,CAGV;;AACA,iBAAKR,kBAAL,CAAwB1F,IAAxB,CAA6B,EAA7B,EAJU,CAKV;;AACA,iBAAK6F,sBAAL,CAA4B7F,IAA5B,CAAiC,KAAjC;AACD;;;iBAED,qBAAYjB,IAAZ,EAAkBkD,WAAlB,EAA6B;AAAA;;AAC3B,gBAAMzD,KAAK,GAAIO,IAAI,KAAK,OAAV,GAAqB,QAArB,GAAgC,EAA9C;AACA,mBAAO,KAAK0B,UAAL,CAAgBG,IAAhB,CAAqB,WAAWpC,KAAhC,EAAuC;AAACuH,kBAAI,EAAE9D;AAAP,aAAvC,EACJtD,IADI,CACC,2DACN,UAAAoC,IAAI,EAAI;AACN,oBAAI,CAAC+E,OAAL,CAAa/E,IAAI,CAACgF,IAAlB;;AACA,qBAAOhF,IAAP;AACD,aAJK,CADD,CAAP;AAOD;;;iBAED,0BAAc;AACZ,mBAAO,KAAK2E,kBAAL,CAAwBxD,KAA/B;AACD,W,CAED;;;;iBACA,gBAAO6D,IAAP,EAAW;AAAA;;AACT,mBAAO,KAAKtF,UAAL,CACNyE,GADM,CACF,OADE,EACO;AAAEa,kBAAI,EAAJA;AAAF,aADP,EAENpH,IAFM,CAED,2DAAI,UAAAoC,IAAI,EAAI;AAChB;AACA,oBAAI,CAAC2E,kBAAL,CAAwB1F,IAAxB,CAA6Be,IAAI,CAACgF,IAAlC;;AACA,qBAAOhF,IAAI,CAACgF,IAAZ;AACD,aAJK,CAFC,CAAP;AAOD;;;;;;;yBAvEUP,W,EAAW,+G,EAAA,uH,EAAA,+G;AAAA,O;;;eAAXA,W;AAAW,iBAAXA,WAAW;;;;;;;;;;;;;;;;;ACTxB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACFA;;;;;;AAEE;;;;;;;;;;;;;;AAgBE;;AAGE;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAEA;;AAAsB;;AAAgB;;AAExC;;;;;;;;AANE;;AAIsB;;AAAA;;;;UDffW,oB;AACX,sCACUnD,eADV,EAC0C;AAAA;;AAAhC,eAAAA,eAAA,GAAAA,eAAA;AAeV,eAAAoD,OAAA,GAAU,KAAV;AACA,eAAAC,WAAA,GAAc,CAAd;AACA,eAAAC,UAAA,GAA4B,CAAC,CAAD,CAA5B;AAhBI;;;;eAGJ,aACW3B,MADX,EACsC;AACpC,gBAAIA,MAAJ,EAAY;AACV,mBAAK4B,KAAL,GAAa5B,MAAb;AACA,mBAAK0B,WAAL,GAAmB,CAAnB;AACA,mBAAKG,QAAL;AACD;AACF;;;iBAQD,mBAAUC,UAAV,EAAsB;AACpB,iBAAKJ,WAAL,GAAmBI,UAAnB;AACA,iBAAKD,QAAL;AACD;;;iBAED,oBAAW;AAAA;;AACT,iBAAKJ,OAAL,GAAe,IAAf;AACA,iBAAKM,OAAL,GAAe,EAAf,CAFS,CAIT;;AACA,gBAAI,KAAKC,KAAT,EAAgB;AACd,mBAAKJ,KAAL,CAAWvH,OAAX,CAAmB2H,KAAnB,GAA2B,KAAKA,KAAhC;AACA,mBAAKJ,KAAL,CAAWvH,OAAX,CAAmB4H,MAAnB,GAA8B,KAAKD,KAAL,IAAc,KAAKN,WAAL,GAAmB,CAAjC,CAA9B;AACD;;AAED,iBAAKrD,eAAL,CAAqBuD,KAArB,CAA2B,KAAKA,KAAhC,EACCpH,SADD,CACW,UAAA4B,IAAI,EAAI;AACjB,qBAAI,CAACqF,OAAL,GAAe,KAAf;AACA,qBAAI,CAACM,OAAL,GAAe3F,IAAI,CAAC8F,QAApB,CAFiB,CAIjB;;AACA,qBAAI,CAACP,UAAL,GAAkBQ,KAAK,CAACC,IAAN,CAAW,IAAID,KAAJ,CAAUE,IAAI,CAACC,IAAL,CAAUlG,IAAI,CAACmG,aAAL,GAAqB,OAAI,CAACP,KAApC,CAAV,CAAX,EAAkE,UAACQ,GAAD,EAAMC,KAAN;AAAA,uBAAgBA,KAAK,GAAG,CAAxB;AAAA,eAAlE,CAAlB;AACD,aAPD;AAQD;;;;;;;yBA5CUjB,oB,EAAoB,sH;AAAA,O;;;cAApBA,oB;AAAoB,yC;AAAA;AAAA;AAAA;AAAA,S;AAAA,gB;AAAA,e;AAAA,mR;AAAA;AAAA;ACRjC;;AAKA;;AAEE;;AACF;;AAEA;;AAEE;;AACF;;AAEA;;AACE;;AAEE;;AASF;;AACF;;;;AA3BsB;;AAKpB;;AAAA;;AAKA;;AAAA;;AAIG;;AAAA;;AAKwB;;AAAA;;;;;;;;;;;;;;;;;;;;;AClB7B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACGI;;AAGE;;AACE;;AAEE;;AACF;;AACF;;AAEA;;AACE;;AAGE;;AACF;;AACF;;AAEA;;AACE;;AAGE;;AACF;;AACF;;AAEF;;;;;;AAmCM;;;;;;AAAK;;;;;;;;;;;;;;;;AAhCX;;AAGE;;AACE;;AAIE;;AACF;;AACF;;AAEA;;AACE;;AAGE;;AAA2B;;AAC7B;;AACF;;AAEA;;AACE;;AAGE;;AAA0B;;AAC5B;;AACF;;AAEA;;AACE;;AAGE;;AACA;;AACF;;AACF;;AAEF;;;;;;AA9BM;;AAAA;;AAuBA;;AAAA;;AAEgC;;AAAA;;AAChC;;AAAA;;;;UD3DGkB,e;AACX,iCACU9I,WADV,EACkC;AAAA;;AAAxB,eAAAA,WAAA,GAAAA,WAAA;AACN;;;;iBAIJ,oBAAW;AAAA;;AACT,iBAAKA,WAAL,CAAiBoH,WAAjB,CAA6BxG,SAA7B,CACE,UAACmI,QAAD,EAAc;AACZ,qBAAI,CAAC3B,WAAL,GAAmB2B,QAAnB;AACD,aAHH;AAKD;;;;;;;yBAbUD,e,EAAe,kH;AAAA,O;;;cAAfA,e;AAAe,0C;AAAA,gB;AAAA,e;AAAA,yzB;AAAA;AAAA;ACR5B;;AACE;;AACE;;AAAuC;;AAAO;;AAG9C;;AA6BA;;AAuCF;;AACF;;;;AArES;;AAAA;;AA6BA;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnBH;;AAEE;;AACF;;;;;;AADE;;AAAA;;;;;;;;UCTKE,uB;;;;;;;iBAGX,0BAAiBpE,SAAjB,EAAqC;AACnC,iBAAKD,OAAL,CAAa,WAAb,IAA4BC,SAA5B;;AAEA,gBAAIA,SAAJ,EAAe;AACb,mBAAKD,OAAL,CAAa,gBAAb;AACD,aAFD,MAEO;AACL,mBAAKA,OAAL,CAAa,gBAAb;AACD;AACF;;;;;;;yBAXUqE,uB;AAAuB,O;;;cAAvBA,uB;AAAuB,4C;AAAA;AAAA;AAAA,S;AAAA,iB;AAAA,e;AAAA,kR;AAAA;AAAA;ADRpC;;AACE;;AACE;;AAEE;AAAA,qBAAU,IAAAC,gBAAA,QAAV;AAAkC,aAAlC;;AAEA;;AACF;;AACF;;AAEA;;AACE;;AAAI;;AAAmB;;AACvB;;AAAG;;AAAyB;;AAC5B;;AAAM;;AAAY;;AAClB;;AACE;;AAIF;;AACF;;AACF;;;;AApBoB;;AAAA;;AAEd;;AAAA;;AAGA;;AAAA;;AAID;;AAAA;;AACG;;AAAA;;AACD;;AAAA;;AAIiB;;AAAA;;;;;;;;;;;;;;;;;;;;;AEfxB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAgCaC,U;;;;;yBAAAA,U;AAAU,O;;;cAAVA;;;mBAbA,CACT;AAAEC,iBAAO,EAAE,sEAAX;AAA8BC,kBAAQ,EAAE,yFAAxC;AAA8DC,eAAK,EAAE;AAArE,SADS,EAET,oDAFS,EAGT,yDAHS,EAIT,mDAJS,EAKT,yDALS,EAMT,oDANS,EAOT,yDAPS,EAQT,qDARS,EAST,qDATS,C;AAUV,kBAbQ,CACP,4DADO,CAaR;;;;4HAGUH,U,EAAU;AAAA,oBAfnB,4DAemB;AAAA,S;AAfP,O;;;;;;;;;;;;;;;;;ACjBhB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAQaI,U;AACX,4BACUpC,IADV,EAEU3F,UAFV,EAEgC;AAAA;;AADtB,eAAA2F,IAAA,GAAAA,IAAA;AACA,eAAA3F,UAAA,GAAAA,UAAA;AACN;;;;iBAEI,sBAAagI,KAAb,EAAyB;AAC/B,mBAAQ,wDAAWA,KAAK,CAACA,KAAjB,CAAR;AACD;;;iBAED,aAAI9J,IAAJ,EAAuD;AAAA,gBAArC4G,MAAqC,uEAAhB,IAAI,+DAAJ,EAAgB;AACrD,mBAAO,KAAKa,IAAL,CAAUzE,GAAV,WAAiB,sEAAYpB,OAA7B,SAAuC5B,IAAvC,GAA+C;AAAE4G,oBAAM,EAANA;AAAF,aAA/C,EACJjG,IADI,CACC,kEAAW,KAAKoJ,YAAhB,CADD,CAAP;AAED;;;iBAED,aAAI/J,IAAJ,EAAmC;AAAA,gBAAjB8C,IAAiB,uEAAF,EAAE;AACjC,mBAAO,KAAK2E,IAAL,CAAUP,GAAV,WACF,sEAAYtF,OADV,SACoB5B,IADpB,GAELgK,IAAI,CAACC,SAAL,CAAenH,IAAf,CAFK,EAGLnC,IAHK,CAGA,kEAAW,KAAKoJ,YAAhB,CAHA,CAAP;AAID;;;iBAED,cAAK/J,IAAL,EAAoC;AAAA,gBAAjB8C,IAAiB,uEAAF,EAAE;AAClC,mBAAO,KAAK2E,IAAL,CAAU7E,IAAV,WACF,sEAAYhB,OADV,SACoB5B,IADpB,GAELgK,IAAI,CAACC,SAAL,CAAenH,IAAf,CAFK,EAGLnC,IAHK,CAGA,kEAAW,KAAKoJ,YAAhB,CAHA,CAAP;AAID;;;iBAED,iBAAO/J,IAAP,EAAW;AACT,mBAAO,KAAKyH,IAAL,qBACF,sEAAY7F,OADV,SACoB5B,IADpB,GAELW,IAFK,CAEA,kEAAW,KAAKoJ,YAAhB,CAFA,CAAP;AAGD;;;;;;;yBAjCUF,U,EAAU,uH,EAAA,+G;AAAA,O;;;eAAVA,U;AAAU,iBAAVA,UAAU;;;;;;;;;;;;;;;;;ACTvB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;AAAA;;;AAAA;AAAA;AAAA;AAAA;;AAAA;;;AAAA;AAAA;AAAA;AAAA;;AAAA;;;AAAA;AAAA;AAAA;AAAA;;AAAA;;;AAAA;AAAA;AAAA;AAAA;;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;ACGA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAIaK,W;AACX,6BACUzH,UADV,EACgC;AAAA;;AAAtB,eAAAA,UAAA,GAAAA,UAAA;AACN;;;;iBAEJ,kBAAM;AACJ,mBAAO,KAAKA,UAAL,CAAgBO,GAAhB,CAAoB,OAApB,EACArC,IADA,CACK,2DAAI,UAAAoC,IAAI;AAAA,qBAAIA,IAAI,CAAC9B,IAAT;AAAA,aAAR,CADL,CAAP;AAED;;;;;;;yBARUiJ,W,EAAW,+G;AAAA,O;;;eAAXA,W;AAAW,iBAAXA,WAAW;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACNtB;;AACE;;AACF;;;;;;AADE;;AAAA;;;;;;AAFJ;;AACE;;AAGF;;;;;;AAHwB;;AAAA;;;;UCOXC,mB;AAJb;AAAA;;AAKE,eAAAC,eAAA,GAAiC,EAAjC;AAWD;;;;eATC,aACWC,SADX,EAC8B;AAC5B,iBAAKD,eAAL,GAAuBvD,MAAM,CAACC,IAAP,CAAYuD,SAAS,CAAC5G,MAAV,IAAoB,EAAhC,EACpB6G,GADoB,CAChB,UAAAtD,GAAG;AAAA,+BAAOA,GAAP,cAAcqD,SAAS,CAAC5G,MAAV,CAAiBuD,GAAjB,CAAd;AAAA,aADa,CAAvB;AAED;;;eAED,eAAgB;AAAE,mBAAO,KAAKoD,eAAZ;AAA8B;;;;;;;yBATrCD,mB;AAAmB,O;;;cAAnBA,mB;AAAmB,wC;AAAA;AAAA;AAAA,S;AAAA,gB;AAAA,e;AAAA,wG;AAAA;AAAA;ADRhC;;;;AAA4B;;;;;;;;;;;;;;;;;;;;;AEC5B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAEA,UAAMpK,MAAM,GAAW,CACrB;AACEC,YAAI,EAAE,UADR;AAEEuK,oBAAY,EAAE;AAAA,iBAAM;AAAA;AAAA;AAAA;AAAA,mBAAqCC,IAArC,CAA0C,UAAAC,CAAC;AAAA,mBAAIA,CAAC,CAACC,cAAN;AAAA,WAA3C,CAAN;AAAA;AAFhB,OADqB,EAKrB;AACE1K,YAAI,EAAE,SADR;AAEEuK,oBAAY,EAAE;AAAA,iBAAM;AAAA;AAAA;AAAA;AAAA,mBAAmCC,IAAnC,CAAwC,UAAAC,CAAC;AAAA,mBAAIA,CAAC,CAACE,aAAN;AAAA,WAAzC,CAAN;AAAA;AAFhB,OALqB,EASrB;AACE3K,YAAI,EAAE,QADR;AAEEuK,oBAAY,EAAE;AAAA,iBAAM;AAAA;AAAA;AAAA;AAAA,mBAAiCC,IAAjC,CAAsC,UAAAC,CAAC;AAAA,mBAAIA,CAAC,CAACG,YAAN;AAAA,WAAvC,CAAN;AAAA;AAFhB,OATqB,EAarB;AACE5K,YAAI,EAAE,SADR;AAEEuK,oBAAY,EAAE;AAAA,iBAAM;AAAA;AAAA;AAAA;AAAA,mBAAmCC,IAAnC,CAAwC,UAAAC,CAAC;AAAA,mBAAIA,CAAC,CAACI,aAAN;AAAA,WAAzC,CAAN;AAAA;AAFhB,OAbqB,CAAvB;;UA6BaC,gB;;;;;yBAAAA,gB;AAAgB,O;;;cAAhBA;;;kBATF,CAAC,6DAAaC,OAAb,CAAqBhL,MAArB,EAA6B;AACrC;AACA;AACA;AACAiL,4BAAkB,EAAE,iEAJiB;AAKrCC,gCAAsB,EAAE;AALa,SAA7B,CAAD,C,EAOC,4D;;;;4HAECH,gB,EAAgB;AAAA;AAAA,oBAFjB,4DAEiB;AAAA,S;AAFL,O;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxBxB,UAAI,sEAAYnJ,UAAhB,EAA4B;AAC1B;AACD;;AAED,UAAMuJ,gBAAgB,GAAI,4EAAyBC,eAAzB,CAAyC,yDAAzC,CAA1B,C,CAEA;;;AACAD,sBAAgB,CAACV,IAAjB,CAAsB,UAAAY,OAAO;AAAA,eAAIC,OAAO,CAACC,GAAR,qBAAJ;AAAA,OAA7B,WACS,UAAAlH,GAAG;AAAA,eAAIiH,OAAO,CAACvB,KAAR,CAAc1F,GAAd,CAAJ;AAAA,OADZ;;;;;;;;;;;;;;ACbA,eAASmH,wBAAT,CAAkCxJ,GAAlC,EAAuC;AACtC;AACA;AACA,eAAOyJ,OAAO,CAAChK,OAAR,GAAkBgJ,IAAlB,CAAuB,YAAW;AACxC,cAAIiB,CAAC,GAAG,IAAIC,KAAJ,CAAU,yBAAyB3J,GAAzB,GAA+B,GAAzC,CAAR;AACA0J,WAAC,CAACE,IAAF,GAAS,kBAAT;AACA,gBAAMF,CAAN;AACA,SAJM,CAAP;AAKA;;AACDF,8BAAwB,CAACzE,IAAzB,GAAgC,YAAW;AAAE,eAAO,EAAP;AAAY,OAAzD;;AACAyE,8BAAwB,CAAC/J,OAAzB,GAAmC+J,wBAAnC;AACAK,YAAM,CAACC,OAAP,GAAiBN,wBAAjB;AACAA,8BAAwB,CAACO,EAAzB,GAA8B,MAA9B","file":"main-es5.js","sourcesContent":["export * from './footer.component';\r\nexport * from './header.component';\r\n","export * from './http.token.interceptor';\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { AuthComponent } from './auth.component';\r\nimport { NoAuthGuard } from './no-auth-guard.service';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: 'login',\r\n    component: AuthComponent,\r\n    canActivate: [NoAuthGuard]\r\n  },\r\n  {\r\n    path: 'register',\r\n    component: AuthComponent,\r\n    canActivate: [NoAuthGuard]\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AuthRoutingModule {}\r\n","export * from './favorite-button.component';\r\nexport * from './follow-button.component';\r\n","import { Injectable } from '@angular/core';\r\nimport { ActivatedRouteSnapshot, Resolve, Router, RouterStateSnapshot } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { UserService } from '../core';\r\nimport { take } from 'rxjs/operators';\r\n\r\n@Injectable()\r\nexport class HomeAuthResolver implements Resolve<boolean> {\r\n  constructor(\r\n    private router: Router,\r\n    private userService: UserService\r\n  ) {}\r\n\r\n  resolve(\r\n    route: ActivatedRouteSnapshot,\r\n    state: RouterStateSnapshot\r\n  ): Observable<boolean> {\r\n\r\n    return this.userService.isAuthenticated.pipe(take(1));\r\n\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\n\r\nimport { ArticleListConfig, TagsService, UserService } from '../core';\r\n\r\n@Component({\r\n  selector: 'app-home-page',\r\n  templateUrl: './home.component.html',\r\n  styleUrls: ['./home.component.css']\r\n})\r\nexport class HomeComponent implements OnInit {\r\n  constructor(\r\n    private router: Router,\r\n    private tagsService: TagsService,\r\n    private userService: UserService\r\n  ) {}\r\n\r\n  isAuthenticated: boolean;\r\n  listConfig: ArticleListConfig = {\r\n    type: 'all',\r\n    filters: {}\r\n  };\r\n  tags: Array<string> = [];\r\n  tagsLoaded = false;\r\n\r\n  ngOnInit() {\r\n    this.userService.isAuthenticated.subscribe(\r\n      (authenticated) => {\r\n        this.isAuthenticated = authenticated;\r\n\r\n        // set the article list accordingly\r\n        if (authenticated) {\r\n          this.setListTo('feed');\r\n        } else {\r\n          this.setListTo('all');\r\n        }\r\n      }\r\n    );\r\n\r\n    this.tagsService.getAll()\r\n    .subscribe(tags => {\r\n      this.tags = tags;\r\n      this.tagsLoaded = true;\r\n    });\r\n  }\r\n\r\n  setListTo(type: string = '', filters: Object = {}) {\r\n    // If feed is requested but user is not authenticated, redirect to login\r\n    if (type === 'feed' && !this.isAuthenticated) {\r\n      this.router.navigateByUrl('/login');\r\n      return;\r\n    }\r\n\r\n    // Otherwise, set the list object\r\n    this.listConfig = {type: type, filters: filters};\r\n  }\r\n}\r\n","<div class=\"home-page\">\r\n\r\n  <div class=\"banner\" *appShowAuthed=\"false\">\r\n    <div class=\"container\">\r\n      <h1 class=\"logo-font\">conduit</h1>\r\n      <p>A place to share your <i>Angular</i> knowledge.</p>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"container page\">\r\n    <div class=\"row\">\r\n\r\n      <div class=\"col-md-9\">\r\n        <div class=\"feed-toggle\">\r\n          <ul class=\"nav nav-pills outline-active\">\r\n            <li class=\"nav-item\">\r\n              <a class=\"nav-link\"\r\n                 [ngClass]=\"{'active': listConfig.type === 'feed'}\"\r\n                 (click)=\"setListTo('feed')\">\r\n                 Your Feed\r\n              </a>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n              <a class=\"nav-link\"\r\n                 [ngClass]=\"{'active': listConfig.type === 'all' && !listConfig.filters.tag}\"\r\n                 (click)=\"setListTo('all')\">\r\n                 Global Feed\r\n              </a>\r\n            </li>\r\n            <li class=\"nav-item\" [hidden]=\"!listConfig.filters.tag\">\r\n              <a class=\"nav-link active\">\r\n                <i class=\"ion-pound\"></i> {{ listConfig.filters.tag }}\r\n              </a>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n        <app-article-list [limit]=\"10\" [config]=\"listConfig\"></app-article-list>\r\n      </div>\r\n\r\n      <div class=\"col-md-3\">\r\n        <div class=\"sidebar\">\r\n          <p>Popular Tags</p>\r\n\r\n          <div class=\"tag-list\">\r\n            <a *ngFor=\"let tag of tags\"\r\n               (click)=\"setListTo('all', {tag: tag})\"\r\n               class=\"tag-default tag-pill\">\r\n               {{ tag }}\r\n            </a>\r\n          </div>\r\n\r\n          <div [hidden]=\"tagsLoaded\">\r\n            Loading tags...\r\n          </div>\r\n\r\n          <div [hidden]=\"!tagsLoaded || tags.length > 0\">\r\n            No tags are here... yet.\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { HomeComponent } from './home.component';\r\nimport { HomeAuthResolver } from './home-auth-resolver.service';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: HomeComponent,\r\n    resolve: {\r\n      isAuthenticated: HomeAuthResolver\r\n    }\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class HomeRoutingModule {}\r\n","// The file contents for the current environment will overwrite these during build.\r\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\r\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\r\n// The list of which env maps to which file can be found in `angular-cli.json`.\r\n\r\nexport const environment = {\r\n  production: false,\r\n  api_url: 'https://conduit.productionready.io/api'\r\n};\r\n","import { Injectable, Injector } from '@angular/core';\r\nimport { HttpEvent, HttpInterceptor, HttpHandler, HttpRequest } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { JwtService } from '../services';\r\n\r\n@Injectable()\r\nexport class HttpTokenInterceptor implements HttpInterceptor {\r\n  constructor(private jwtService: JwtService) {}\r\n\r\n  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n    const headersConfig = {\r\n      'Content-Type': 'application/json',\r\n      'Accept': 'application/json'\r\n    };\r\n\r\n    const token = this.jwtService.getToken();\r\n\r\n    if (token) {\r\n      headersConfig['Authorization'] = `Token ${token}`;\r\n    }\r\n\r\n    const request = req.clone({ setHeaders: headersConfig });\r\n    return next.handle(request);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { ApiService } from './api.service';\r\nimport { Comment } from '../models';\r\nimport { map } from 'rxjs/operators';\r\n\r\n\r\n@Injectable()\r\nexport class CommentsService {\r\n  constructor (\r\n    private apiService: ApiService\r\n  ) {}\r\n\r\n  add(slug, payload): Observable<Comment> {\r\n    return this.apiService\r\n    .post(\r\n      `/articles/${slug}/comments`,\r\n      { comment: { body: payload } }\r\n    ).pipe(map(data => data.comment));\r\n  }\r\n\r\n  getAll(slug): Observable<Comment[]> {\r\n    return this.apiService.get(`/articles/${slug}/comments`)\r\n      .pipe(map(data => data.comments));\r\n  }\r\n\r\n  destroy(commentId, articleSlug) {\r\n    return this.apiService\r\n           .delete(`/articles/${articleSlug}/comments/${commentId}`);\r\n  }\r\n\r\n}\r\n","import { Component, Input } from '@angular/core';\r\n\r\nimport { Article } from '../../core';\r\n\r\n@Component({\r\n  selector: 'app-article-meta',\r\n  templateUrl: './article-meta.component.html'\r\n})\r\nexport class ArticleMetaComponent {\r\n  @Input() article: Article;\r\n}\r\n","<div class=\"article-meta\">\r\n  <a [routerLink]=\"['/profile', article.author.username]\">\r\n    <img [src]=\"article.author.image\" />\r\n  </a>\r\n\r\n  <div class=\"info\">\r\n    <a class=\"author\"\r\n      [routerLink]=\"['/profile', article.author.username]\">\r\n      {{ article.author.username }}\r\n    </a>\r\n    <span class=\"date\">\r\n      {{ article.createdAt | date: 'longDate' }}\r\n    </span>\r\n  </div>\r\n\r\n  <ng-content></ng-content>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, FormControl, Validators } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n\r\nimport { Errors, UserService } from '../core';\r\n\r\n@Component({\r\n  selector: 'app-auth-page',\r\n  templateUrl: './auth.component.html'\r\n})\r\nexport class AuthComponent implements OnInit {\r\n  authType: String = '';\r\n  title: String = '';\r\n  errors: Errors = {errors: {}};\r\n  isSubmitting = false;\r\n  authForm: FormGroup;\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private userService: UserService,\r\n    private fb: FormBuilder\r\n  ) {\r\n    // use FormBuilder to create a form group\r\n    this.authForm = this.fb.group({\r\n      'email': ['', Validators.required],\r\n      'password': ['', Validators.required]\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.route.url.subscribe(data => {\r\n      // Get the last piece of the URL (it's either 'login' or 'register')\r\n      this.authType = data[data.length - 1].path;\r\n      // Set a title for the page accordingly\r\n      this.title = (this.authType === 'login') ? 'Sign in' : 'Sign up';\r\n      // add form control for username if this is the register page\r\n      if (this.authType === 'register') {\r\n        this.authForm.addControl('username', new FormControl());\r\n      }\r\n    });\r\n  }\r\n\r\n  submitForm() {\r\n    this.isSubmitting = true;\r\n    this.errors = {errors: {}};\r\n\r\n    const credentials = this.authForm.value;\r\n    this.userService\r\n    .attemptAuth(this.authType, credentials)\r\n    .subscribe(\r\n      data => this.router.navigateByUrl('/'),\r\n      err => {\r\n        this.errors = err;\r\n        this.isSubmitting = false;\r\n      }\r\n    );\r\n  }\r\n}\r\n","<div class=\"auth-page\">\r\n  <div class=\"container page\">\r\n    <div class=\"row\">\r\n\r\n      <div class=\"col-md-6 offset-md-3 col-xs-12\">\r\n        <h1 class=\"text-xs-center\">{{ title }}</h1>\r\n        <p class=\"text-xs-center\">\r\n          <a [routerLink]=\"['/login']\" *ngIf=\"authType == 'register'\">Have an account?</a>\r\n          <a [routerLink]=\"['/register']\" *ngIf=\"authType == 'login'\">Need an account?</a>\r\n        </p>\r\n        <app-list-errors [errors]=\"errors\"></app-list-errors>\r\n        <form [formGroup]=\"authForm\" (ngSubmit)=\"submitForm()\">\r\n          <fieldset [disabled]=\"isSubmitting\">\r\n            <fieldset class=\"form-group\">\r\n              <input\r\n                formControlName=\"username\"\r\n                placeholder=\"Username\"\r\n                class=\"form-control form-control-lg\"\r\n                type=\"text\"\r\n                *ngIf=\"authType == 'register'\" />\r\n            </fieldset>\r\n            <fieldset class=\"form-group\">\r\n              <input\r\n                formControlName=\"email\"\r\n                placeholder=\"Email\"\r\n                class=\"form-control form-control-lg\"\r\n                type=\"text\" />\r\n            </fieldset>\r\n            <fieldset class=\"form-group\">\r\n              <input\r\n                formControlName=\"password\"\r\n                placeholder=\"Password\"\r\n                class=\"form-control form-control-lg\"\r\n                type=\"password\" />\r\n            </fieldset>\r\n            <button class=\"btn btn-lg btn-primary pull-xs-right\" [disabled]=\"!authForm.valid\" type=\"submit\">\r\n              {{ title }}\r\n            </button>\r\n          </fieldset>\r\n        </form>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n","export * from './article-helpers';\r\nexport * from './buttons';\r\nexport * from './layout';\r\nexport * from './list-errors.component';\r\nexport * from './shared.module';\r\nexport * from './show-authed.directive';\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport { ArticleListComponent, ArticleMetaComponent, ArticlePreviewComponent } from './article-helpers';\r\nimport { FavoriteButtonComponent, FollowButtonComponent } from './buttons';\r\nimport { ListErrorsComponent } from './list-errors.component';\r\nimport { ShowAuthedDirective } from './show-authed.directive';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    HttpClientModule,\r\n    RouterModule\r\n  ],\r\n  declarations: [\r\n    ArticleListComponent,\r\n    ArticleMetaComponent,\r\n    ArticlePreviewComponent,\r\n    FavoriteButtonComponent,\r\n    FollowButtonComponent,\r\n    ListErrorsComponent,\r\n    ShowAuthedDirective\r\n  ],\r\n  exports: [\r\n    ArticleListComponent,\r\n    ArticleMetaComponent,\r\n    ArticlePreviewComponent,\r\n    CommonModule,\r\n    FavoriteButtonComponent,\r\n    FollowButtonComponent,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    HttpClientModule,\r\n    ListErrorsComponent,\r\n    RouterModule,\r\n    ShowAuthedDirective\r\n  ]\r\n})\r\nexport class SharedModule {}\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-layout-footer',\r\n  templateUrl: './footer.component.html'\r\n})\r\nexport class FooterComponent {\r\n  today: number = Date.now();\r\n}\r\n","<footer>\r\n  <div class=\"container\">\r\n    <a class=\"logo-font\" routerLink=\"/\">conduit</a>\r\n    <span class=\"attribution\">\r\n      &copy; {{ today | date: 'yyyy' }}.\r\n      An interactive learning project from <a href=\"https://thinkster.io\">Thinkster</a>.\r\n      Code licensed under MIT.\r\n    </span>\r\n  </div>\r\n</footer>\r\n","import { Injectable } from '@angular/core';\r\n\r\n\r\n@Injectable()\r\nexport class JwtService {\r\n\r\n  getToken(): String {\r\n    return window.localStorage['jwtToken'];\r\n  }\r\n\r\n  saveToken(token: String) {\r\n    window.localStorage['jwtToken'] = token;\r\n  }\r\n\r\n  destroyToken() {\r\n    window.localStorage.removeItem('jwtToken');\r\n  }\r\n\r\n}\r\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\n\r\nimport { Article, ArticlesService, UserService } from '../../core';\r\nimport { of } from 'rxjs';\r\nimport { concatMap ,  tap } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-favorite-button',\r\n  templateUrl: './favorite-button.component.html'\r\n})\r\nexport class FavoriteButtonComponent {\r\n  constructor(\r\n    private articlesService: ArticlesService,\r\n    private router: Router,\r\n    private userService: UserService\r\n  ) {}\r\n\r\n  @Input() article: Article;\r\n  @Output() toggle = new EventEmitter<boolean>();\r\n  isSubmitting = false;\r\n\r\n  toggleFavorite() {\r\n    this.isSubmitting = true;\r\n\r\n    this.userService.isAuthenticated.pipe(concatMap(\r\n      (authenticated) => {\r\n        // Not authenticated? Push to login screen\r\n        if (!authenticated) {\r\n          this.router.navigateByUrl('/login');\r\n          return of(null);\r\n        }\r\n\r\n        // Favorite the article if it isn't favorited yet\r\n        if (!this.article.favorited) {\r\n          return this.articlesService.favorite(this.article.slug)\r\n          .pipe(tap(\r\n            data => {\r\n              this.isSubmitting = false;\r\n              this.toggle.emit(true);\r\n            },\r\n            err => this.isSubmitting = false\r\n          ));\r\n\r\n        // Otherwise, unfavorite the article\r\n        } else {\r\n          return this.articlesService.unfavorite(this.article.slug)\r\n          .pipe(tap(\r\n            data => {\r\n              this.isSubmitting = false;\r\n              this.toggle.emit(false);\r\n            },\r\n            err => this.isSubmitting = false\r\n          ));\r\n        }\r\n\r\n      }\r\n    )).subscribe();\r\n  }\r\n}\r\n","<button class=\"btn btn-sm\"\r\n [ngClass]=\"{ 'disabled' : isSubmitting,\r\n              'btn-outline-primary': !article.favorited,\r\n              'btn-primary': article.favorited }\"\r\n (click)=\"toggleFavorite()\">\r\n  <i class=\"ion-heart\"></i> <ng-content></ng-content>\r\n</button>\r\n","import { Component, OnInit } from \"@angular/core\";\r\n\r\nimport { UserService } from \"./core\";\r\n\r\n@Component({\r\n  selector: \"app-root\",\r\n  templateUrl: \"./app.component.html\",\r\n})\r\nexport class AppComponent implements OnInit {\r\n  constructor(private userService: UserService) {}\r\n\r\n  ngOnInit() {\r\n    this.userService.populate();\r\n  }\r\n}\r\n","<app-layout-header></app-layout-header>\r\n\r\n<router-outlet></router-outlet>\r\n\r\n<app-layout-footer></app-layout-footer>\r\n","import {\r\n  Directive,\r\n  Input,\r\n  OnInit,\r\n  TemplateRef,\r\n  ViewContainerRef\r\n} from '@angular/core';\r\n\r\nimport { UserService } from '../core';\r\n\r\n@Directive({ selector: '[appShowAuthed]' })\r\nexport class ShowAuthedDirective implements OnInit {\r\n  constructor(\r\n    private templateRef: TemplateRef<any>,\r\n    private userService: UserService,\r\n    private viewContainer: ViewContainerRef\r\n  ) {}\r\n\r\n  condition: boolean;\r\n\r\n  ngOnInit() {\r\n    this.userService.isAuthenticated.subscribe(\r\n      (isAuthenticated) => {\r\n        if (isAuthenticated && this.condition || !isAuthenticated && !this.condition) {\r\n          this.viewContainer.createEmbeddedView(this.templateRef);\r\n        } else {\r\n          this.viewContainer.clear();\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  @Input() set appShowAuthed(condition: boolean) {\r\n    this.condition = condition;\r\n  }\r\n\r\n}\r\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\n\r\nimport { Profile, ProfilesService, UserService } from '../../core';\r\nimport { concatMap ,  tap } from 'rxjs/operators';\r\nimport { of } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'app-follow-button',\r\n  templateUrl: './follow-button.component.html'\r\n})\r\nexport class FollowButtonComponent {\r\n  constructor(\r\n    private profilesService: ProfilesService,\r\n    private router: Router,\r\n    private userService: UserService\r\n  ) {}\r\n\r\n  @Input() profile: Profile;\r\n  @Output() toggle = new EventEmitter<boolean>();\r\n  isSubmitting = false;\r\n\r\n  toggleFollowing() {\r\n    this.isSubmitting = true;\r\n    // TODO: remove nested subscribes, use mergeMap\r\n\r\n    this.userService.isAuthenticated.pipe(concatMap(\r\n      (authenticated) => {\r\n        // Not authenticated? Push to login screen\r\n        if (!authenticated) {\r\n          this.router.navigateByUrl('/login');\r\n          return of(null);\r\n        }\r\n\r\n        // Follow this profile if we aren't already\r\n        if (!this.profile.following) {\r\n          return this.profilesService.follow(this.profile.username)\r\n          .pipe(tap(\r\n            data => {\r\n              this.isSubmitting = false;\r\n              this.toggle.emit(true);\r\n            },\r\n            err => this.isSubmitting = false\r\n          ));\r\n\r\n        // Otherwise, unfollow this profile\r\n        } else {\r\n          return this.profilesService.unfollow(this.profile.username)\r\n          .pipe(tap(\r\n            data => {\r\n              this.isSubmitting = false;\r\n              this.toggle.emit(false);\r\n            },\r\n            err => this.isSubmitting = false\r\n          ));\r\n        }\r\n      }\r\n    )).subscribe();\r\n  }\r\n}\r\n","<button\r\n  class=\"btn btn-sm action-btn\"\r\n  [ngClass]=\"{ 'disabled': isSubmitting,\r\n               'btn-outline-secondary': !profile.following,\r\n               'btn-secondary': profile.following }\"\r\n  (click)=\"toggleFollowing()\">\r\n  <i class=\"ion-plus-round\"></i>\r\n  &nbsp;\r\n  {{ profile.following ? 'Unfollow' : 'Follow' }} {{ profile.username }}\r\n</button>\r\n","import { Injectable } from '@angular/core';\r\nimport { ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { UserService } from '../core';\r\nimport { map ,  take } from 'rxjs/operators';\r\n\r\n@Injectable()\r\nexport class NoAuthGuard implements CanActivate {\r\n  constructor(\r\n    private router: Router,\r\n    private userService: UserService\r\n  ) {}\r\n\r\n  canActivate(\r\n    route: ActivatedRouteSnapshot,\r\n    state: RouterStateSnapshot\r\n  ): Observable<boolean> {\r\n\r\n    return this.userService.isAuthenticated.pipe(take(1), map(isAuth => !isAuth));\r\n\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpParams } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { ApiService } from './api.service';\r\nimport { Article, ArticleListConfig } from '../models';\r\nimport { map } from 'rxjs/operators';\r\n\r\n@Injectable()\r\nexport class ArticlesService {\r\n  constructor (\r\n    private apiService: ApiService\r\n  ) {}\r\n\r\n  query(config: ArticleListConfig): Observable<{articles: Article[], articlesCount: number}> {\r\n    // Convert any filters over to Angular's URLSearchParams\r\n    const params = {};\r\n\r\n    Object.keys(config.filters)\r\n    .forEach((key) => {\r\n      params[key] = config.filters[key];\r\n    });\r\n\r\n    return this.apiService\r\n    .get(\r\n      '/articles' + ((config.type === 'feed') ? '/feed' : ''),\r\n      new HttpParams({ fromObject: params })\r\n    );\r\n  }\r\n\r\n  get(slug): Observable<Article> {\r\n    return this.apiService.get('/articles/' + slug)\r\n      .pipe(map(data => data.article));\r\n  }\r\n\r\n  destroy(slug) {\r\n    return this.apiService.delete('/articles/' + slug);\r\n  }\r\n\r\n  save(article): Observable<Article> {\r\n    // If we're updating an existing article\r\n    if (article.slug) {\r\n      return this.apiService.put('/articles/' + article.slug, {article: article})\r\n        .pipe(map(data => data.article));\r\n\r\n    // Otherwise, create a new article\r\n    } else {\r\n      return this.apiService.post('/articles/', {article: article})\r\n        .pipe(map(data => data.article));\r\n    }\r\n  }\r\n\r\n  favorite(slug): Observable<Article> {\r\n    return this.apiService.post('/articles/' + slug + '/favorite');\r\n  }\r\n\r\n  unfavorite(slug): Observable<Article> {\r\n    return this.apiService.delete('/articles/' + slug + '/favorite');\r\n  }\r\n\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { ApiService } from './api.service';\r\nimport { Profile } from '../models';\r\nimport { map } from 'rxjs/operators';\r\n\r\n@Injectable()\r\nexport class ProfilesService {\r\n  constructor (\r\n    private apiService: ApiService\r\n  ) {}\r\n\r\n  get(username: string): Observable<Profile> {\r\n    return this.apiService.get('/profiles/' + username)\r\n      .pipe(map((data: {profile: Profile}) => data.profile));\r\n  }\r\n\r\n  follow(username: string): Observable<Profile> {\r\n    return this.apiService.post('/profiles/' + username + '/follow');\r\n  }\r\n\r\n  unfollow(username: string): Observable<Profile> {\r\n    return this.apiService.delete('/profiles/' + username + '/follow');\r\n  }\r\n\r\n}\r\n","import { ModuleWithProviders, NgModule } from '@angular/core';\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport { AuthComponent } from './auth.component';\r\nimport { NoAuthGuard } from './no-auth-guard.service';\r\nimport { SharedModule } from '../shared';\r\nimport { AuthRoutingModule } from './auth-routing.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    AuthRoutingModule\r\n  ],\r\n  declarations: [\r\n    AuthComponent\r\n  ],\r\n  providers: [\r\n    NoAuthGuard\r\n  ]\r\n})\r\nexport class AuthModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { AuthModule } from './auth/auth.module';\r\nimport { HomeModule } from './home/home.module';\r\nimport {\r\n  FooterComponent,\r\n  HeaderComponent,\r\n  SharedModule\r\n} from './shared';\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { CoreModule } from './core/core.module';\r\n\r\n@NgModule({\r\n  declarations: [AppComponent, FooterComponent, HeaderComponent],\r\n  imports: [\r\n    BrowserModule,\r\n    CoreModule,\r\n    SharedModule,\r\n    HomeModule,\r\n    AuthModule,\r\n    AppRoutingModule\r\n  ],\r\n  providers: [],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule {}\r\n","import { ModuleWithProviders, NgModule } from '@angular/core';\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport { HomeComponent } from './home.component';\r\nimport { HomeAuthResolver } from './home-auth-resolver.service';\r\nimport { SharedModule } from '../shared';\r\nimport { HomeRoutingModule } from './home-routing.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    HomeRoutingModule\r\n  ],\r\n  declarations: [\r\n    HomeComponent\r\n  ],\r\n  providers: [\r\n    HomeAuthResolver\r\n  ]\r\n})\r\nexport class HomeModule {}\r\n","export * from './api.service';\r\nexport * from './articles.service';\r\nexport * from './auth-guard.service';\r\nexport * from './comments.service';\r\nexport * from './jwt.service';\r\nexport * from './profiles.service';\r\nexport * from './tags.service';\r\nexport * from './user.service';\r\n","import { Injectable } from '@angular/core';\r\nimport { ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { UserService } from './user.service';\r\nimport { take } from 'rxjs/operators';\r\n\r\n@Injectable()\r\nexport class AuthGuard implements CanActivate {\r\n  constructor(\r\n    private router: Router,\r\n    private userService: UserService\r\n  ) {}\r\n\r\n  canActivate(\r\n    route: ActivatedRouteSnapshot,\r\n    state: RouterStateSnapshot\r\n  ): Observable<boolean> {\r\n\r\n    return this.userService.isAuthenticated.pipe(take(1));\r\n\r\n  }\r\n}\r\n","export * from './article-list.component';\r\nexport * from './article-meta.component';\r\nexport * from './article-preview.component';\r\n","export * from './core.module';\r\nexport * from './services';\r\nexport * from './models';\r\nexport * from './interceptors';\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable ,  BehaviorSubject ,  ReplaySubject } from 'rxjs';\r\n\r\nimport { ApiService } from './api.service';\r\nimport { JwtService } from './jwt.service';\r\nimport { User } from '../models';\r\nimport { map ,  distinctUntilChanged } from 'rxjs/operators';\r\n\r\n\r\n@Injectable()\r\nexport class UserService {\r\n  private currentUserSubject = new BehaviorSubject<User>({} as User);\r\n  public currentUser = this.currentUserSubject.asObservable().pipe(distinctUntilChanged());\r\n\r\n  private isAuthenticatedSubject = new ReplaySubject<boolean>(1);\r\n  public isAuthenticated = this.isAuthenticatedSubject.asObservable();\r\n\r\n  constructor (\r\n    private apiService: ApiService,\r\n    private http: HttpClient,\r\n    private jwtService: JwtService\r\n  ) {}\r\n\r\n  // Verify JWT in localstorage with server & load user's info.\r\n  // This runs once on application startup.\r\n  populate() {\r\n    // If JWT detected, attempt to get & store user's info\r\n    if (this.jwtService.getToken()) {\r\n      this.apiService.get('/user')\r\n      .subscribe(\r\n        data => this.setAuth(data.user),\r\n        err => this.purgeAuth()\r\n      );\r\n    } else {\r\n      // Remove any potential remnants of previous auth states\r\n      this.purgeAuth();\r\n    }\r\n  }\r\n\r\n  setAuth(user: User) {\r\n    // Save JWT sent from server in localstorage\r\n    this.jwtService.saveToken(user.token);\r\n    // Set current user data into observable\r\n    this.currentUserSubject.next(user);\r\n    // Set isAuthenticated to true\r\n    this.isAuthenticatedSubject.next(true);\r\n  }\r\n\r\n  purgeAuth() {\r\n    // Remove JWT from localstorage\r\n    this.jwtService.destroyToken();\r\n    // Set current user to an empty object\r\n    this.currentUserSubject.next({} as User);\r\n    // Set auth status to false\r\n    this.isAuthenticatedSubject.next(false);\r\n  }\r\n\r\n  attemptAuth(type, credentials): Observable<User> {\r\n    const route = (type === 'login') ? '/login' : '';\r\n    return this.apiService.post('/users' + route, {user: credentials})\r\n      .pipe(map(\r\n      data => {\r\n        this.setAuth(data.user);\r\n        return data;\r\n      }\r\n    ));\r\n  }\r\n\r\n  getCurrentUser(): User {\r\n    return this.currentUserSubject.value;\r\n  }\r\n\r\n  // Update the user on the server (email, pass, etc)\r\n  update(user): Observable<User> {\r\n    return this.apiService\r\n    .put('/user', { user })\r\n    .pipe(map(data => {\r\n      // Update the currentUser observable\r\n      this.currentUserSubject.next(data.user);\r\n      return data.user;\r\n    }));\r\n  }\r\n\r\n}\r\n","import { Component, Input } from '@angular/core';\r\n\r\nimport { Article, ArticleListConfig, ArticlesService } from '../../core';\r\n@Component({\r\n  selector: 'app-article-list',\r\n  styleUrls: ['article-list.component.css'],\r\n  templateUrl: './article-list.component.html'\r\n})\r\nexport class ArticleListComponent {\r\n  constructor (\r\n    private articlesService: ArticlesService\r\n  ) {}\r\n\r\n  @Input() limit: number;\r\n  @Input()\r\n  set config(config: ArticleListConfig) {\r\n    if (config) {\r\n      this.query = config;\r\n      this.currentPage = 1;\r\n      this.runQuery();\r\n    }\r\n  }\r\n\r\n  query: ArticleListConfig;\r\n  results: Article[];\r\n  loading = false;\r\n  currentPage = 1;\r\n  totalPages: Array<number> = [1];\r\n\r\n  setPageTo(pageNumber) {\r\n    this.currentPage = pageNumber;\r\n    this.runQuery();\r\n  }\r\n\r\n  runQuery() {\r\n    this.loading = true;\r\n    this.results = [];\r\n\r\n    // Create limit and offset filter (if necessary)\r\n    if (this.limit) {\r\n      this.query.filters.limit = this.limit;\r\n      this.query.filters.offset =  (this.limit * (this.currentPage - 1));\r\n    }\r\n\r\n    this.articlesService.query(this.query)\r\n    .subscribe(data => {\r\n      this.loading = false;\r\n      this.results = data.articles;\r\n\r\n      // Used from http://www.jstips.co/en/create-range-0...n-easily-using-one-line/\r\n      this.totalPages = Array.from(new Array(Math.ceil(data.articlesCount / this.limit)), (val, index) => index + 1);\r\n    });\r\n  }\r\n}\r\n","<app-article-preview\r\n  *ngFor=\"let article of results\"\r\n  [article]=\"article\">\r\n</app-article-preview>\r\n\r\n<div class=\"app-article-preview\"\r\n  [hidden]=\"!loading\">\r\n  Loading articles...\r\n</div>\r\n\r\n<div class=\"app-article-preview\"\r\n  [hidden]=\"loading || results.length\">\r\n  No articles are here... yet.\r\n</div>\r\n\r\n<nav [hidden]=\"loading || totalPages.length <= 1\">\r\n  <ul class=\"pagination\">\r\n\r\n    <li class=\"page-item\"\r\n      [ngClass]=\"{'active': pageNumber === currentPage}\"\r\n      *ngFor=\"let pageNumber of totalPages\"\r\n      (click)=\"setPageTo(pageNumber)\">\r\n\r\n      <a class=\"page-link\" >{{ pageNumber }}</a>\r\n\r\n    </li>\r\n\r\n  </ul>\r\n</nav>\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\nimport { User, UserService } from '../../core';\r\n\r\n@Component({\r\n  selector: 'app-layout-header',\r\n  templateUrl: './header.component.html'\r\n})\r\nexport class HeaderComponent implements OnInit {\r\n  constructor(\r\n    private userService: UserService\r\n  ) {}\r\n\r\n  currentUser: User;\r\n\r\n  ngOnInit() {\r\n    this.userService.currentUser.subscribe(\r\n      (userData) => {\r\n        this.currentUser = userData;\r\n      }\r\n    );\r\n  }\r\n}\r\n","<nav class=\"navbar navbar-light\">\r\n  <div class=\"container\">\r\n    <a class=\"navbar-brand\" routerLink=\"/\">conduit</a>\r\n\r\n    <!-- Show this for logged out users -->\r\n    <ul *appShowAuthed=\"false\"\r\n      class=\"nav navbar-nav pull-xs-right\">\r\n\r\n      <li class=\"nav-item\">\r\n        <a class=\"nav-link\"\r\n          routerLink=\"/\">\r\n          Home\r\n        </a>\r\n      </li>\r\n\r\n      <li class=\"nav-item\">\r\n        <a class=\"nav-link\"\r\n          routerLink=\"/login\"\r\n          routerLinkActive=\"active\">\r\n          Sign in\r\n        </a>\r\n      </li>\r\n\r\n      <li class=\"nav-item\">\r\n        <a class=\"nav-link\"\r\n          routerLink=\"/register\"\r\n          routerLinkActive=\"active\">\r\n          Sign up\r\n        </a>\r\n      </li>\r\n\r\n    </ul>\r\n\r\n    <!-- Show this for logged in users -->\r\n    <ul *appShowAuthed=\"true\"\r\n      class=\"nav navbar-nav pull-xs-right\">\r\n\r\n      <li class=\"nav-item\">\r\n        <a class=\"nav-link\"\r\n          routerLink=\"/\"\r\n          routerLinkActive=\"active\"\r\n          [routerLinkActiveOptions]=\"{ exact: true }\">\r\n          Home\r\n        </a>\r\n      </li>\r\n\r\n      <li class=\"nav-item\">\r\n        <a class=\"nav-link\"\r\n          routerLink=\"/editor\"\r\n          routerLinkActive=\"active\">\r\n          <i class=\"ion-compose\"></i>&nbsp;New Article\r\n        </a>\r\n      </li>\r\n\r\n      <li class=\"nav-item\">\r\n        <a class=\"nav-link\"\r\n          routerLink=\"/settings\"\r\n          routerLinkActive=\"active\">\r\n          <i class=\"ion-gear-a\"></i>&nbsp;Settings\r\n        </a>\r\n      </li>\r\n\r\n      <li class=\"nav-item\">\r\n        <a class=\"nav-link\"\r\n          [routerLink]=\"['/profile', currentUser.username]\"\r\n          routerLinkActive=\"active\">\r\n          <img [src]=\"currentUser.image\" *ngIf=\"currentUser.image\" class=\"user-pic\" />\r\n          {{ currentUser.username }}\r\n        </a>\r\n      </li>\r\n\r\n    </ul>\r\n\r\n  </div>\r\n</nav>\r\n","<div class=\"article-preview\">\r\n  <app-article-meta [article]=\"article\">\r\n    <app-favorite-button\r\n      [article]=\"article\"\r\n      (toggle)=\"onToggleFavorite($event)\"\r\n      class=\"pull-xs-right\">\r\n      {{article.favoritesCount}}\r\n    </app-favorite-button>\r\n  </app-article-meta>\r\n\r\n  <a [routerLink]=\"['/article', article.slug]\" class=\"preview-link\">\r\n    <h1>{{ article.title }}</h1>\r\n    <p>{{ article.description }}</p>\r\n    <span>Read more...</span>\r\n    <ul class=\"tag-list\">\r\n      <li class=\"tag-default tag-pill tag-outline\"\r\n        *ngFor=\"let tag of article.tagList\">\r\n        {{ tag }}\r\n      </li>\r\n    </ul>\r\n  </a>\r\n</div>\r\n","import { Component, Input } from '@angular/core';\r\n\r\nimport { Article } from '../../core';\r\n\r\n@Component({\r\n  selector: 'app-article-preview',\r\n  templateUrl: './article-preview.component.html'\r\n})\r\nexport class ArticlePreviewComponent {\r\n  @Input() article: Article;\r\n\r\n  onToggleFavorite(favorited: boolean) {\r\n    this.article['favorited'] = favorited;\r\n\r\n    if (favorited) {\r\n      this.article['favoritesCount']++;\r\n    } else {\r\n      this.article['favoritesCount']--;\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { HTTP_INTERCEPTORS } from '@angular/common/http';\r\nimport { HttpTokenInterceptor } from './interceptors/http.token.interceptor';\r\n\r\nimport {\r\n  ApiService,\r\n  ArticlesService,\r\n  AuthGuard,\r\n  CommentsService,\r\n  JwtService,\r\n  ProfilesService,\r\n  TagsService,\r\n  UserService\r\n} from './services';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  providers: [\r\n    { provide: HTTP_INTERCEPTORS, useClass: HttpTokenInterceptor, multi: true },\r\n    ApiService,\r\n    ArticlesService,\r\n    AuthGuard,\r\n    CommentsService,\r\n    JwtService,\r\n    ProfilesService,\r\n    TagsService,\r\n    UserService\r\n  ],\r\n  declarations: []\r\n})\r\nexport class CoreModule { }\r\n","import { Injectable } from '@angular/core';\r\nimport { environment } from '../../../environments/environment';\r\nimport { HttpHeaders, HttpClient, HttpParams } from '@angular/common/http';\r\nimport { Observable ,  throwError } from 'rxjs';\r\n\r\nimport { JwtService } from './jwt.service';\r\nimport { catchError } from 'rxjs/operators';\r\n\r\n@Injectable()\r\nexport class ApiService {\r\n  constructor(\r\n    private http: HttpClient,\r\n    private jwtService: JwtService\r\n  ) {}\r\n\r\n  private formatErrors(error: any) {\r\n    return  throwError(error.error);\r\n  }\r\n\r\n  get(path: string, params: HttpParams = new HttpParams()): Observable<any> {\r\n    return this.http.get(`${environment.api_url}${path}`, { params })\r\n      .pipe(catchError(this.formatErrors));\r\n  }\r\n\r\n  put(path: string, body: Object = {}): Observable<any> {\r\n    return this.http.put(\r\n      `${environment.api_url}${path}`,\r\n      JSON.stringify(body)\r\n    ).pipe(catchError(this.formatErrors));\r\n  }\r\n\r\n  post(path: string, body: Object = {}): Observable<any> {\r\n    return this.http.post(\r\n      `${environment.api_url}${path}`,\r\n      JSON.stringify(body)\r\n    ).pipe(catchError(this.formatErrors));\r\n  }\r\n\r\n  delete(path): Observable<any> {\r\n    return this.http.delete(\r\n      `${environment.api_url}${path}`\r\n    ).pipe(catchError(this.formatErrors));\r\n  }\r\n}\r\n","export * from './article.model';\r\nexport * from './article-list-config.model';\r\nexport * from './comment.model';\r\nexport * from './errors.model';\r\nexport * from './profile.model';\r\nexport * from './user.model';\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { ApiService } from './api.service';\r\nimport { map } from 'rxjs/operators';\r\n\r\n@Injectable()\r\nexport class TagsService {\r\n  constructor (\r\n    private apiService: ApiService\r\n  ) {}\r\n\r\n  getAll(): Observable<[string]> {\r\n    return this.apiService.get('/tags')\r\n          .pipe(map(data => data.tags));\r\n  }\r\n\r\n}\r\n","<ul class=\"error-messages\" *ngIf=\"errorList\">\r\n  <li *ngFor=\"let error of errorList\">\r\n    {{ error }}\r\n  </li>\r\n</ul>\r\n","import { Component, Input } from '@angular/core';\r\n\r\nimport { Errors } from '../core';\r\n\r\n@Component({\r\n  selector: 'app-list-errors',\r\n  templateUrl: './list-errors.component.html'\r\n})\r\nexport class ListErrorsComponent {\r\n  formattedErrors: Array<string> = [];\r\n\r\n  @Input()\r\n  set errors(errorList: Errors) {\r\n    this.formattedErrors = Object.keys(errorList.errors || {})\r\n      .map(key => `${key} ${errorList.errors[key]}`);\r\n  }\r\n\r\n  get errorList() { return this.formattedErrors; }\r\n\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule, PreloadAllModules } from '@angular/router';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: 'settings',\r\n    loadChildren: () => import('./settings/settings.module').then(m => m.SettingsModule)\r\n  },\r\n  {\r\n    path: 'profile',\r\n    loadChildren: () => import('./profile/profile.module').then(m => m.ProfileModule)\r\n  },\r\n  {\r\n    path: 'editor',\r\n    loadChildren: () => import('./editor/editor.module').then(m => m.EditorModule)\r\n  },\r\n  {\r\n    path: 'article',\r\n    loadChildren: () => import('./article/article.module').then(m => m.ArticleModule)\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes, {\r\n    // preload all modules; optionally we could\r\n    // implement a custom preloading strategy for just some\r\n    // of the modules (PRs welcome )\r\n    preloadingStrategy: PreloadAllModules,\r\n    relativeLinkResolution: 'legacy'\r\n})],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule {}\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nconst bootstrapPromise =  platformBrowserDynamic().bootstrapModule(AppModule);\r\n\r\n// Logging bootstrap information\r\nbootstrapPromise.then(success => console.log(`Bootstrap success`))\r\n  .catch(err => console.error(err));\r\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"]}