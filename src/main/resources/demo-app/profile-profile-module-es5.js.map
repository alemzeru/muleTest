{"version":3,"sources":["webpack:///src/app/profile/profile-favorites.component.ts","webpack:///src/app/profile/profile-favorites.component.html","webpack:///src/app/profile/profile.component.ts","webpack:///src/app/profile/profile.component.html","webpack:///src/app/profile/profile.module.ts","webpack:///src/app/profile/profile-articles.component.ts","webpack:///src/app/profile/profile-articles.component.html","webpack:///src/app/profile/profile-resolver.service.ts","webpack:///src/app/profile/profile-routing.module.ts"],"names":["ProfileFavoritesComponent","route","router","favoritesConfig","type","filters","parent","data","subscribe","profile","favorited","username","ProfileComponent","userService","pipe","currentUser","userData","isUser","following","onToggleFollowing","ProfileModule","ProfileArticlesComponent","articlesConfig","author","ProfileResolver","profilesService","state","get","params","err","navigateByUrl","routes","path","component","resolve","children","ProfileRoutingModule","forChild"],"mappings":"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","file":"profile-profile-module-es5.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n\r\nimport { ArticleListConfig, Profile } from '../core';\r\n\r\n@Component({\r\n  selector: 'app-profile-favorites',\r\n  templateUrl: './profile-favorites.component.html'\r\n})\r\nexport class ProfileFavoritesComponent implements OnInit {\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private router: Router\r\n  ) {}\r\n\r\n  profile: Profile;\r\n  favoritesConfig: ArticleListConfig = {\r\n    type: 'all',\r\n    filters: {}\r\n  };\r\n\r\n  ngOnInit() {\r\n    this.route.parent.data.subscribe(\r\n      (data: {profile: Profile}) => {\r\n        this.profile = data.profile;\r\n        this.favoritesConfig.filters.favorited = this.profile.username;\r\n      }\r\n    );\r\n  }\r\n\r\n}\r\n","<app-article-list [limit]=\"10\" [config]=\"favoritesConfig\">\r\n</app-article-list>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\n\r\nimport { User, UserService, Profile } from '../core';\r\nimport { concatMap ,  tap } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-profile-page',\r\n  templateUrl: './profile.component.html'\r\n})\r\nexport class ProfileComponent implements OnInit {\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private userService: UserService\r\n  ) { }\r\n\r\n  profile: Profile;\r\n  currentUser: User;\r\n  isUser: boolean;\r\n\r\n  ngOnInit() {\r\n    this.route.data.pipe(\r\n      concatMap((data: { profile: Profile }) => {\r\n        this.profile = data.profile;\r\n        // Load the current user's data.\r\n        return this.userService.currentUser.pipe(tap(\r\n          (userData: User) => {\r\n            this.currentUser = userData;\r\n            this.isUser = (this.currentUser.username === this.profile.username);\r\n          }\r\n        ));\r\n      })\r\n    ).subscribe();\r\n  }\r\n\r\n  onToggleFollowing(following: boolean) {\r\n    this.profile.following = following;\r\n  }\r\n\r\n}\r\n","<div class=\"profile-page\">\r\n\r\n  <div class=\"user-info\">\r\n    <div class=\"container\">\r\n      <div class=\"row\">\r\n\r\n        <div class=\"col-xs-12 col-md-10 offset-md-1\">\r\n          <img [src]=\"profile.image\" class=\"user-img\" />\r\n          <h4>{{ profile.username }}</h4>\r\n          <p>{{ profile.bio }}</p>\r\n          <app-follow-button\r\n            [hidden]=\"isUser\"\r\n            [profile]=\"profile\"\r\n            (toggle)=\"onToggleFollowing($event)\">\r\n          </app-follow-button>\r\n           <a [routerLink]=\"['/settings']\"\r\n              [hidden]=\"!isUser\"\r\n              class=\"btn btn-sm btn-outline-secondary action-btn\">\r\n              <i class=\"ion-gear-a\"></i> Edit Profile Settings\r\n            </a>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"container\">\r\n    <div class=\"row\">\r\n\r\n      <div class=\"col-xs-12 col-md-10 offset-md-1\">\r\n        <div class=\"articles-toggle\">\r\n          <ul class=\"nav nav-pills outline-active\">\r\n            <li class=\"nav-item\">\r\n              <a class=\"nav-link\"\r\n                 routerLinkActive=\"active\"\r\n                 [routerLinkActiveOptions]=\"{ exact: true }\"\r\n                 [routerLink]=\"['/profile', profile.username]\">\r\n                 My Posts\r\n              </a>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n              <a class=\"nav-link\"\r\n                 routerLinkActive=\"active\"\r\n                 [routerLinkActiveOptions]=\"{ exact: true }\"\r\n                 [routerLink]=\"['/profile', profile.username, 'favorites']\">\r\n                 Favorited Posts\r\n              </a>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n        <router-outlet></router-outlet>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n","import { ModuleWithProviders, NgModule } from '@angular/core';\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport { ProfileArticlesComponent } from './profile-articles.component';\r\nimport { ProfileComponent } from './profile.component';\r\nimport { ProfileFavoritesComponent } from './profile-favorites.component';\r\nimport { ProfileResolver } from './profile-resolver.service';\r\nimport { SharedModule } from '../shared';\r\nimport { ProfileRoutingModule } from './profile-routing.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    ProfileRoutingModule\r\n  ],\r\n  declarations: [\r\n    ProfileArticlesComponent,\r\n    ProfileComponent,\r\n    ProfileFavoritesComponent\r\n  ],\r\n  providers: [\r\n    ProfileResolver\r\n  ]\r\n})\r\nexport class ProfileModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n\r\nimport { ArticleListConfig, Profile } from '../core';\r\n\r\n@Component({\r\n  selector: 'app-profile-articles',\r\n  templateUrl: './profile-articles.component.html'\r\n})\r\nexport class ProfileArticlesComponent implements OnInit {\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private router: Router\r\n  ) {}\r\n\r\n  profile: Profile;\r\n  articlesConfig: ArticleListConfig = {\r\n    type: 'all',\r\n    filters: {}\r\n  };\r\n\r\n  ngOnInit() {\r\n    this.route.parent.data.subscribe(\r\n      (data: {profile: Profile}) => {\r\n        this.profile = data.profile;\r\n        this.articlesConfig = {\r\n          type: 'all',\r\n          filters: {}\r\n        }; // Only method I found to refresh article load on swap\r\n        this.articlesConfig.filters.author = this.profile.username;\r\n      }\r\n    );\r\n  }\r\n\r\n}\r\n","<app-article-list [limit]=\"10\" [config]=\"articlesConfig\">\r\n</app-article-list>\r\n","import { Injectable, } from '@angular/core';\r\nimport { ActivatedRouteSnapshot, Resolve, Router, RouterStateSnapshot } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { Profile, ProfilesService } from '../core';\r\nimport { catchError } from 'rxjs/operators';\r\n\r\n@Injectable()\r\nexport class ProfileResolver implements Resolve<Profile> {\r\n  constructor(\r\n    private profilesService: ProfilesService,\r\n    private router: Router\r\n  ) {}\r\n\r\n  resolve(\r\n    route: ActivatedRouteSnapshot,\r\n    state: RouterStateSnapshot\r\n  ): Observable<any> {\r\n\r\n    return this.profilesService.get(route.params['username'])\r\n      .pipe(catchError((err) => this.router.navigateByUrl('/')));\r\n\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { ProfileArticlesComponent } from './profile-articles.component';\r\nimport { ProfileFavoritesComponent } from './profile-favorites.component';\r\nimport { ProfileResolver } from './profile-resolver.service';\r\nimport { ProfileComponent } from './profile.component';\r\n\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: ':username',\r\n    component: ProfileComponent,\r\n    resolve: {\r\n      profile: ProfileResolver\r\n    },\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: ProfileArticlesComponent\r\n      },\r\n      {\r\n        path: 'favorites',\r\n        component: ProfileFavoritesComponent\r\n      }\r\n    ]\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class ProfileRoutingModule {}\r\n"]}